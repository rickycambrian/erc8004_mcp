{
  "qualifiedName": "@scrapfly/scrapfly-mcp",
  "displayName": "scrapfly-mcp",
  "description": "Scrapes a web page given its URL for HTML or Text and Markdown (LLM accessible), powered by smart residential prox rotation and anti-bot bypass capabilities.",
  "iconUrl": "https://spjawbfpwezjfmicopsl.supabase.co/storage/v1/object/public/server-icons/12ff19b7-39b3-442e-ba67-582d53eecfa3.svg",
  "remote": true,
  "deploymentUrl": "https://server.smithery.ai/@scrapfly/scrapfly-mcp",
  "connections": [
    {
      "type": "http",
      "deploymentUrl": "https://server.smithery.ai/@scrapfly/scrapfly-mcp/mcp",
      "configSchema": {
        "type": "object",
        "title": "MCP Session Configuration",
        "required": [
          "apiKey"
        ],
        "properties": {
          "apiKey": {
            "type": "string",
            "description": "Your Scrapfly API key from https://scrapfly.io/dashboard"
          }
        },
        "description": "Schema for the /mcp endpoint configuration",
        "x-query-style": "dot+bracket"
      }
    }
  ],
  "security": null,
  "tools": [
    {
      "name": "info_account",
      "_meta": {
        "scrapfly/permissions/required": [
          "tools:default"
        ],
        "scrapfly/permissions/sufficient": []
      },
      "title": "Scrapfly Account Informations",
      "annotations": {
        "title": "Scrapfly Account Informations",
        "readOnlyHint": true,
        "openWorldHint": true,
        "idempotentHint": true,
        "destructiveHint": false
      },
      "description": "Get subscription, usage, limits. Use for quotas/billing/concurrency. Avoid for content scraping.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "dummy": {
            "type": "string",
            "description": "Dummy input (for langchain compatibility)"
          }
        },
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "account",
          "project",
          "subscription"
        ],
        "properties": {
          "account": {
            "type": "object",
            "required": [
              "account_id",
              "currency",
              "timezone",
              "suspended",
              "suspension_reason"
            ],
            "properties": {
              "currency": {
                "type": "string"
              },
              "timezone": {
                "type": "string"
              },
              "suspended": {
                "type": "boolean"
              },
              "account_id": {
                "type": "string"
              },
              "suspension_reason": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "project": {
            "type": "object",
            "required": [
              "allow_extra_usage",
              "allowed_networks",
              "budget_limit",
              "budget_spent",
              "concurrency_limit",
              "name",
              "quota_reached",
              "scrape_request_count",
              "scrape_request_limit",
              "tags"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "tags": {
                "type": [
                  "null",
                  "array"
                ],
                "items": {
                  "type": "string"
                }
              },
              "budget_limit": {
                "type": [
                  "null",
                  "number"
                ]
              },
              "budget_spent": {
                "type": [
                  "null",
                  "number"
                ]
              },
              "quota_reached": {
                "type": "boolean"
              },
              "allowed_networks": {
                "type": [
                  "null",
                  "array"
                ],
                "items": {
                  "type": "string"
                }
              },
              "allow_extra_usage": {
                "type": "boolean"
              },
              "concurrency_limit": {
                "type": [
                  "null",
                  "integer"
                ]
              },
              "scrape_request_count": {
                "type": "integer"
              },
              "scrape_request_limit": {
                "type": [
                  "null",
                  "integer"
                ]
              }
            },
            "additionalProperties": false
          },
          "subscription": {
            "type": "object",
            "required": [
              "billing",
              "extra_scrape_allowed",
              "max_concurrency",
              "period",
              "plan_name",
              "usage"
            ],
            "properties": {
              "usage": {
                "type": "object",
                "required": [
                  "spider",
                  "schedule",
                  "scrape"
                ],
                "properties": {
                  "scrape": {
                    "type": "object",
                    "required": [
                      "concurrent_limit",
                      "concurrent_remaining",
                      "concurrent_usage",
                      "current",
                      "extra",
                      "limit",
                      "remaining"
                    ],
                    "properties": {
                      "extra": {
                        "type": "integer"
                      },
                      "limit": {
                        "type": "integer"
                      },
                      "current": {
                        "type": "integer"
                      },
                      "remaining": {
                        "type": "integer"
                      },
                      "concurrent_limit": {
                        "type": "integer"
                      },
                      "concurrent_usage": {
                        "type": "integer"
                      },
                      "concurrent_remaining": {
                        "type": "integer"
                      }
                    },
                    "additionalProperties": false
                  },
                  "spider": {
                    "type": "object",
                    "required": [
                      "current",
                      "limit"
                    ],
                    "properties": {
                      "limit": {
                        "type": "integer"
                      },
                      "current": {
                        "type": "integer"
                      }
                    },
                    "additionalProperties": false
                  },
                  "schedule": {
                    "type": "object",
                    "required": [
                      "current",
                      "limit"
                    ],
                    "properties": {
                      "limit": {
                        "type": "integer"
                      },
                      "current": {
                        "type": "integer"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "period": {
                "type": "object",
                "required": [
                  "start",
                  "end"
                ],
                "properties": {
                  "end": {
                    "type": "string"
                  },
                  "start": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "billing": {
                "type": "object",
                "required": [
                  "current_extra_scrape_request_price",
                  "extra_scrape_request_price_per_10k",
                  "ongoing_payment",
                  "plan_price"
                ],
                "properties": {
                  "plan_price": {
                    "type": "object",
                    "required": [
                      "currency",
                      "amount"
                    ],
                    "properties": {
                      "amount": {
                        "type": "integer"
                      },
                      "currency": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "ongoing_payment": {
                    "type": "object",
                    "required": [
                      "currency",
                      "amount"
                    ],
                    "properties": {
                      "amount": {
                        "type": "number"
                      },
                      "currency": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "current_extra_scrape_request_price": {
                    "type": "object",
                    "required": [
                      "currency",
                      "amount"
                    ],
                    "properties": {
                      "amount": {
                        "type": "integer"
                      },
                      "currency": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "extra_scrape_request_price_per_10k": {
                    "type": "object",
                    "required": [
                      "currency",
                      "amount"
                    ],
                    "properties": {
                      "amount": {
                        "type": "number"
                      },
                      "currency": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "plan_name": {
                "type": "string"
              },
              "max_concurrency": {
                "type": "integer"
              },
              "extra_scrape_allowed": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "info_api_key",
      "_meta": {
        "scrapfly/permissions/required": [
          "tools:default"
        ],
        "scrapfly/permissions/sufficient": []
      },
      "title": "Scrapfly Account API Key",
      "annotations": {
        "title": "Scrapfly Account API Key",
        "readOnlyHint": true,
        "openWorldHint": false,
        "idempotentHint": true,
        "destructiveHint": false
      },
      "description": "Return the Users' ScrapFly API key",
      "inputSchema": {
        "type": "object",
        "properties": {
          "dummy": {
            "type": "string",
            "description": "Dummy input (for langchain compatibility)"
          }
        },
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "api_key"
        ],
        "properties": {
          "api_key": {
            "type": "string"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "scraping_instruction_enhanced",
      "_meta": {
        "scrapfly/permissions/required": [
          "tools:default"
        ],
        "scrapfly/permissions/sufficient": []
      },
      "title": "Scrapfly Scraping tools instructions // enhanced prompt",
      "annotations": {
        "title": "Scrapfly Scraping tools instructions // enhanced prompt",
        "readOnlyHint": true,
        "openWorldHint": false,
        "idempotentHint": true,
        "destructiveHint": false
      },
      "description": "Return critical instructions for scraping tools",
      "inputSchema": {
        "type": "object",
        "properties": {
          "dummy": {
            "type": "string",
            "description": "Dummy input (for langchain compatibility)"
          }
        },
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "instruction_prompt"
        ],
        "properties": {
          "instruction_prompt": {
            "type": "string"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "screenshot",
      "_meta": {
        "scrapfly/permissions/required": [
          "tools:default"
        ],
        "scrapfly/permissions/sufficient": []
      },
      "title": "Scrapfly Screenshot Tool",
      "annotations": {
        "title": "Scrapfly Screenshot Tool",
        "readOnlyHint": true,
        "openWorldHint": true,
        "destructiveHint": false
      },
      "description": "Screenshot a URL.",
      "inputSchema": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "js": {
            "type": "string",
            "description": "The JavaScript to execute before capturing."
          },
          "url": {
            "type": "string",
            "title": "Target URL",
            "format": "uri",
            "pattern": "^https?://.*$",
            "description": "The target URL to scrape."
          },
          "cache": {
            "type": "boolean",
            "description": "If true, enable response caching."
          },
          "format": {
            "enum": [
              "jpg",
              "png",
              "webp",
              "gif"
            ],
            "type": "string",
            "title": "Image Format",
            "default": "jpg",
            "description": "The image format to use for the screenshot."
          },
          "capture": {
            "type": "string",
            "title": "Capture",
            "default": "fullpage",
            "description": "The capture to use for the screenshot. Either fullpage or a CSS selector\t"
          },
          "country": {
            "type": "string",
            "title": "Proxy Country",
            "format": "iso-3166-1-alpha-2",
            "default": "",
            "pattern": "^([a-zA-Z]{2}|)$",
            "description": "The country to use for the proxy. Supports ISO 3166-1 alpha-2 country codes."
          },
          "options": {
            "type": "array",
            "items": {
              "enum": [
                "load_images",
                "dark_mode",
                "block_banners",
                "print_media_format"
              ],
              "type": "string"
            },
            "default": [],
            "description": "Screenshot options to use for the screenshot."
          },
          "webhook": {
            "type": "string",
            "description": "The webhook to call after the request completes."
          },
          "cache_ttl": {
            "type": "integer",
            "description": "The cache time-to-live in seconds."
          },
          "resolution": {
            "type": "string",
            "title": "Resolution",
            "default": "1920x1080",
            "pattern": "^[0-9]+x[0-9]+$",
            "description": "The resolution to use for the screenshot. e.g. 1920x1080"
          },
          "auto_scroll": {
            "type": "boolean",
            "description": "If true, automatically scroll the page to load lazy content."
          },
          "cache_clear": {
            "type": "boolean",
            "description": "If true, bypass & clear cache for this request."
          },
          "rendering_wait": {
            "type": "integer",
            "title": "Rendering Wait",
            "description": "Wait for this number of milliseconds before returning the response."
          },
          "wait_for_selector": {
            "type": "string",
            "description": "The wait for selector to use for the screenshot."
          },
          "vision_deficiency_type": {
            "enum": [
              "none",
              "deuteranopia",
              "protanopia",
              "tritanopia",
              "achromatopsia",
              "blurredVision",
              "reducedContrast"
            ],
            "type": "string",
            "title": "Vision Deficiency Type",
            "default": "none",
            "description": "The vision deficiency to use for the screenshot."
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "web_get_page",
      "_meta": {
        "scrapfly/permissions/required": [
          "tools:default"
        ],
        "scrapfly/permissions/sufficient": []
      },
      "title": "Scrapfly Quick Page Fetch Tool",
      "annotations": {
        "title": "Scrapfly Quick Page Fetch Tool",
        "readOnlyHint": true,
        "openWorldHint": true,
        "idempotentHint": true,
        "destructiveHint": false
      },
      "description": "Quick page fetch with sane defaults. Use tool scraping_instruction_enhanced before using this tool. Use when you just need the content fast.",
      "inputSchema": {
        "type": "object",
        "required": [
          "url",
          "pow"
        ],
        "properties": {
          "pow": {
            "type": "string",
            "description": "use scraping_instruction_enhanced tool use for instructions"
          },
          "url": {
            "type": "string",
            "title": "Target URL",
            "format": "uri",
            "pattern": "^https?://.*$",
            "description": "The target URL to scrape."
          },
          "format": {
            "enum": [
              "json",
              "text",
              "markdown",
              "clean_html",
              "raw"
            ],
            "type": "string",
            "default": "markdown",
            "description": "The desired output format for the content. Supports clean_html, markdown, text, and json"
          },
          "country": {
            "type": "string",
            "title": "Proxy Country",
            "format": "iso-3166-1-alpha-2",
            "default": "",
            "pattern": "^([a-zA-Z]{2}|)$",
            "description": "The country to use for the proxy. Supports ISO 3166-1 alpha-2 country codes."
          },
          "proxy_pool": {
            "enum": [
              "public_datacenter_pool",
              "public_residential_pool"
            ],
            "type": "string",
            "default": "public_datacenter_pool",
            "description": "The proxy pool to use. Supports public_datacenter_pool and public_residential_pool, defaults: public_datacenter_pool"
          },
          "capture_page": {
            "type": "boolean",
            "title": "Capture Page",
            "default": false,
            "description": "If true, also capture the page as a screenshot."
          },
          "capture_flags": {
            "type": "array",
            "items": {
              "enum": [
                "load_images",
                "dark_mode",
                "block_banners",
                "print_media_format",
                "high_quality"
              ],
              "type": "string"
            },
            "default": [],
            "description": "Screenshot flags to use for the screenshot."
          },
          "format_options": {
            "type": "array",
            "items": {
              "enum": [
                "no_links",
                "no_images",
                "only_content"
              ],
              "type": "string"
            },
            "default": [],
            "description": "Additional options (only available for markdown and text formats)"
          },
          "rendering_wait": {
            "type": "integer",
            "title": "Rendering Wait",
            "description": "Wait for this number of milliseconds before returning the response."
          },
          "extraction_model": {
            "enum": [
              "article",
              "event",
              "food_recipe",
              "hotel",
              "hotel_listing",
              "job_listing",
              "job_posting",
              "organization",
              "product",
              "product_listing",
              "real_estate_property",
              "real_estate_property_listing",
              "review_list",
              "search_engine_results",
              "social_media_post",
              "software",
              "stock",
              "vehicle_ad",
              "vehicle_ad_listing",
              ""
            ],
            "type": "string",
            "title": "Extraction Model",
            "default": "",
            "description": "The extraction model to use for the offloaded extraction. Exclusive with extraction_template and extraction_prompt."
          }
        },
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "content",
          "status_code",
          "content_type"
        ],
        "properties": {
          "errors": {
            "type": [
              "null",
              "object"
            ],
            "required": [
              "code",
              "http_code",
              "links",
              "message",
              "retryable",
              "doc_url"
            ],
            "properties": {
              "code": {
                "type": "string"
              },
              "links": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              },
              "doc_url": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "http_code": {
                "type": "integer"
              },
              "retryable": {
                "type": "boolean"
              }
            },
            "description": "Errors if any",
            "additionalProperties": false
          },
          "content": {
            "type": "string",
            "description": "HTML/Text/JSON depending on format"
          },
          "screenshots": {
            "type": "object",
            "description": "Screenshots if any",
            "additionalProperties": {
              "type": "object",
              "required": [
                "css_selector",
                "extension",
                "format",
                "size",
                "url"
              ],
              "properties": {
                "url": {
                  "type": "string"
                },
                "size": {
                  "type": "integer"
                },
                "format": {
                  "type": "string"
                },
                "extension": {
                  "type": "string"
                },
                "css_selector": {
                  "type": [
                    "null",
                    "string"
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "status_code": {
            "type": "integer"
          },
          "content_type": {
            "type": "string"
          },
          "extraction_result": {
            "type": "object",
            "description": "Extracted data if extraction_prompt was provided",
            "additionalProperties": true
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "web_scrape",
      "_meta": {
        "scrapfly/permissions/required": [
          "tools:default"
        ],
        "scrapfly/permissions/sufficient": []
      },
      "title": "Scrapfly Advanced Scraping Tool",
      "annotations": {
        "title": "Scrapfly Advanced Scraping Tool",
        "readOnlyHint": true,
        "openWorldHint": true,
        "idempotentHint": true,
        "destructiveHint": false
      },
      "description": "Scrape a URL with full control. Use tool scraping_instruction_enhanced before using this tool. Prefer web_get_page for quick fetch",
      "inputSchema": {
        "type": "object",
        "required": [
          "url",
          "pow"
        ],
        "properties": {
          "js": {
            "type": "string",
            "description": "JavaScript to execute on the page."
          },
          "asp": {
            "type": "boolean",
            "title": "Anti Scraping Protection",
            "default": true,
            "description": "Enable Anti Scraping Protection."
          },
          "pow": {
            "type": "string",
            "description": "use scraping_instruction_enhanced tool use for instructions"
          },
          "url": {
            "type": "string",
            "title": "Target URL",
            "format": "uri",
            "pattern": "^https?://.*$",
            "description": "The target URL to scrape."
          },
          "body": {
            "type": "string",
            "description": "Request body for POST/PUT/PATCH requests."
          },
          "lang": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "Language",
            "default": [],
            "description": "Languages to use for the request (Accept-Language header). Empty for auto-detection/Proxy Location alignment"
          },
          "cache": {
            "type": "boolean",
            "description": "Enable caching of the response."
          },
          "retry": {
            "type": "boolean",
            "title": "Retry",
            "default": true,
            "description": "If false, disable automatic retry on transient errors."
          },
          "format": {
            "enum": [
              "json",
              "text",
              "markdown",
              "clean_html",
              "raw"
            ],
            "type": "string",
            "default": "markdown",
            "description": "The desired output format for the content. Supports clean_html, markdown, text, and json"
          },
          "method": {
            "enum": [
              "GET",
              "POST",
              "PUT",
              "PATCH",
              "OPTIONS"
            ],
            "type": "string",
            "default": "GET",
            "description": "The HTTP method to use for the request."
          },
          "cookies": {
            "type": [
              "null",
              "array"
            ],
            "items": {
              "type": "object",
              "required": [
                "name",
                "value"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "The name of the cookie."
                },
                "path": {
                  "type": "string",
                  "description": "The path of the cookie."
                },
                "value": {
                  "type": "string",
                  "description": "The value of the cookie."
                },
                "domain": {
                  "type": "string",
                  "description": "The domain of the cookie."
                },
                "expires": {
                  "type": "integer",
                  "description": "The expiration date of the cookie."
                },
                "max_age": {
                  "type": "integer",
                  "description": "The maximum age of the cookie in seconds."
                }
              },
              "additionalProperties": false
            },
            "title": "Cookies",
            "default": [],
            "description": "Cookies to send with the request."
          },
          "country": {
            "type": "string",
            "title": "Proxy Country",
            "format": "iso-3166-1-alpha-2",
            "default": "",
            "pattern": "^([a-zA-Z]{2}|)$",
            "description": "The country to use for the proxy. Supports ISO 3166-1 alpha-2 country codes."
          },
          "headers": {
            "type": "object",
            "title": "HTTP Headers",
            "default": {},
            "description": "HTTP headers to send.",
            "additionalProperties": {
              "type": "string"
            }
          },
          "timeout": {
            "type": "integer",
            "description": "Server-side timeout in milliseconds. (Prefer rendering_wait + timeout) "
          },
          "cache_ttl": {
            "type": "integer",
            "description": "Cache TTL in seconds when cache is true."
          },
          "render_js": {
            "type": "boolean",
            "title": "Render JavaScript",
            "default": true,
            "description": "Enable JavaScript rendering with a headless browser."
          },
          "proxy_pool": {
            "enum": [
              "public_datacenter_pool",
              "public_residential_pool"
            ],
            "type": "string",
            "default": "public_datacenter_pool",
            "description": "The proxy pool to use. Supports public_datacenter_pool and public_residential_pool, defaults: public_datacenter_pool"
          },
          "cache_clear": {
            "type": "boolean",
            "description": "If true, bypass & clear cache for this URL."
          },
          "js_scenario": {
            "$id": "https://scrapfly.io/schemas/js_scenario.json",
            "type": "array",
            "items": {
              "type": "object",
              "oneOf": [
                {
                  "type": "object",
                  "title": "Click Step",
                  "required": [
                    "click"
                  ],
                  "properties": {
                    "click": {
                      "type": "object",
                      "required": [
                        "selector"
                      ],
                      "properties": {
                        "multiple": {
                          "type": "boolean",
                          "default": false
                        },
                        "selector": {
                          "type": "string",
                          "minLength": 1
                        },
                        "ignore_if_not_visible": {
                          "type": "boolean",
                          "default": false
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "Fill Step",
                  "required": [
                    "fill"
                  ],
                  "properties": {
                    "fill": {
                      "type": "object",
                      "required": [
                        "selector",
                        "value"
                      ],
                      "properties": {
                        "clear": {
                          "type": "boolean",
                          "default": false
                        },
                        "value": {
                          "type": "string"
                        },
                        "selector": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "Condition Step",
                  "required": [
                    "condition"
                  ],
                  "properties": {
                    "condition": {
                      "oneOf": [
                        {
                          "type": "object",
                          "title": "Status Code Condition",
                          "required": [
                            "status_code"
                          ],
                          "properties": {
                            "action": {
                              "enum": [
                                "continue",
                                "exit_success",
                                "exit_failed"
                              ],
                              "type": "string",
                              "default": "continue"
                            },
                            "status_code": {
                              "type": "integer"
                            }
                          },
                          "additionalProperties": false
                        },
                        {
                          "type": "object",
                          "title": "Selector Condition",
                          "required": [
                            "selector"
                          ],
                          "properties": {
                            "action": {
                              "enum": [
                                "continue",
                                "exit_success",
                                "exit_failed"
                              ],
                              "type": "string",
                              "default": "continue"
                            },
                            "selector": {
                              "type": "string",
                              "minLength": 1
                            },
                            "selector_state": {
                              "enum": [
                                "existing",
                                "not_existing"
                              ],
                              "type": "string",
                              "default": "existing"
                            }
                          },
                          "additionalProperties": false
                        }
                      ],
                      "description": "Defines a condition that must be met to continue the scenario. The condition is based on either the response status code or the state of a selector."
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "Wait Step",
                  "required": [
                    "wait"
                  ],
                  "properties": {
                    "wait": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "Duration to wait in milliseconds."
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "Scroll Step",
                  "required": [
                    "scroll"
                  ],
                  "properties": {
                    "scroll": {
                      "type": "object",
                      "properties": {
                        "element": {
                          "type": "string",
                          "default": "body",
                          "minLength": 1
                        },
                        "infinite": {
                          "type": "integer",
                          "default": 0,
                          "minimum": 0
                        },
                        "selector": {
                          "type": "string",
                          "default": "bottom",
                          "minLength": 1
                        },
                        "click_selector": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "Execute Step",
                  "required": [
                    "execute"
                  ],
                  "properties": {
                    "execute": {
                      "type": "object",
                      "required": [
                        "script"
                      ],
                      "properties": {
                        "script": {
                          "type": "string",
                          "minLength": 1
                        },
                        "timeout": {
                          "type": "integer",
                          "default": 3000,
                          "minimum": 0
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "WaitForNavigation Step",
                  "required": [
                    "wait_for_navigation"
                  ],
                  "properties": {
                    "wait_for_navigation": {
                      "type": "object",
                      "properties": {
                        "timeout": {
                          "type": "integer",
                          "default": 1000,
                          "minimum": 0
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "title": "WaitForSelector Step",
                  "required": [
                    "wait_for_selector"
                  ],
                  "properties": {
                    "wait_for_selector": {
                      "type": "object",
                      "required": [
                        "selector"
                      ],
                      "properties": {
                        "state": {
                          "enum": [
                            "visible",
                            "hidden"
                          ],
                          "type": "string",
                          "default": "visible"
                        },
                        "timeout": {
                          "type": "integer",
                          "default": 5000,
                          "minimum": 0
                        },
                        "selector": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                }
              ],
              "title": "Scenario Step",
              "description": "A single step in a JS Scenario. It must be an object with exactly one key, which defines the action to perform."
            },
            "title": "Scrapfly JS Scenario",
            "$schema": "http://json-schema.org/draft-07/schema#",
            "description": "A schema for validating a sequence of browser actions (JS Scenario) for the Scrapfly API."
          },
          "screenshots": {
            "type": [
              "null",
              "array"
            ],
            "items": {
              "type": "object",
              "required": [
                "name",
                "target"
              ],
              "properties": {
                "name": {
                  "type": "string"
                },
                "target": {
                  "enum": [
                    "fullpage",
                    "selector"
                  ],
                  "type": "string"
                },
                "css_selector": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "title": "Screenshots",
            "default": [],
            "description": "Screenshots with target (fullpage, selector). Example: [{ 'name': 'my_screenshot', 'target': 'fullpage' }, { 'name': 'my_screenshot2', 'target': 'selector', 'css_selector': '#price' }]"
          },
          "format_options": {
            "type": "array",
            "items": {
              "enum": [
                "no_links",
                "no_images",
                "only_content"
              ],
              "type": "string"
            },
            "default": [],
            "description": "Additional options (only available for markdown and text formats)"
          },
          "rendering_wait": {
            "type": "integer",
            "title": "Rendering Wait",
            "description": "Wait for this number of milliseconds before returning the response."
          },
          "extraction_model": {
            "enum": [
              "article",
              "event",
              "food_recipe",
              "hotel",
              "hotel_listing",
              "job_listing",
              "job_posting",
              "organization",
              "product",
              "product_listing",
              "real_estate_property",
              "real_estate_property_listing",
              "review_list",
              "search_engine_results",
              "social_media_post",
              "software",
              "stock",
              "vehicle_ad",
              "vehicle_ad_listing",
              ""
            ],
            "type": "string",
            "title": "Extraction Model",
            "default": "",
            "description": "The extraction model to use for the offloaded extraction. Exclusive with extraction_template and extraction_prompt."
          },
          "screenshot_flags": {
            "type": "array",
            "items": {
              "enum": [
                "load_images",
                "dark_mode",
                "block_banners",
                "print_media_format",
                "high_quality"
              ],
              "type": "string"
            },
            "default": [],
            "description": "Screenshot flags to use for the screenshot."
          },
          "extraction_prompt": {
            "type": "string",
            "description": "(Avoid if the llm is thinking and can process the data itself). If data extraction cannot be assumed by the current llm model,AI prompt to add step of llm assisted data extraction."
          },
          "wait_for_selector": {
            "type": "string",
            "description": "(Prefer rendering_wait). Wait for this CSS selector to appear in the page when rendering JS."
          }
        },
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "content",
          "status_code",
          "content_type"
        ],
        "properties": {
          "errors": {
            "type": [
              "null",
              "object"
            ],
            "required": [
              "code",
              "http_code",
              "links",
              "message",
              "retryable",
              "doc_url"
            ],
            "properties": {
              "code": {
                "type": "string"
              },
              "links": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              },
              "doc_url": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "http_code": {
                "type": "integer"
              },
              "retryable": {
                "type": "boolean"
              }
            },
            "description": "Errors if any",
            "additionalProperties": false
          },
          "content": {
            "type": "string",
            "description": "HTML/Text/JSON depending on format"
          },
          "screenshots": {
            "type": "object",
            "description": "Screenshots if any",
            "additionalProperties": {
              "type": "object",
              "required": [
                "css_selector",
                "extension",
                "format",
                "size",
                "url"
              ],
              "properties": {
                "url": {
                  "type": "string"
                },
                "size": {
                  "type": "integer"
                },
                "format": {
                  "type": "string"
                },
                "extension": {
                  "type": "string"
                },
                "css_selector": {
                  "type": [
                    "null",
                    "string"
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "status_code": {
            "type": "integer"
          },
          "content_type": {
            "type": "string"
          },
          "extraction_result": {
            "type": "object",
            "description": "Extracted data if extraction_prompt was provided",
            "additionalProperties": true
          }
        },
        "additionalProperties": false
      }
    }
  ],
  "_sync": {
    "fetched_at": "2026-01-04T13:15:16.917870+00:00",
    "source": "smithery"
  }
}