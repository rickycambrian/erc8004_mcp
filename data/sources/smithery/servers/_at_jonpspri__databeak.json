{
  "qualifiedName": "@jonpspri/databeak",
  "displayName": "DataBeak",
  "description": "Load and profile tabular data to quickly understand structure, quality, and trends. Explore columns with statistics, correlations, value distributions, and outlier detection to surface insights. Clean, transform, and export datasets with flexible filtering, grouping, and column operations.",
  "iconUrl": "https://icons.duckduckgo.com/ip3/github.com.ico",
  "remote": true,
  "deploymentUrl": "https://server.smithery.ai/@jonpspri/databeak",
  "connections": [
    {
      "type": "http",
      "deploymentUrl": "https://server.smithery.ai/@jonpspri/databeak/mcp",
      "configSchema": {
        "message": "No configuration schema available"
      }
    }
  ],
  "security": null,
  "tools": [
    {
      "name": "health_check",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Check DataBeak server health and availability with memory monitoring.\n\nReturns server status, session capacity, memory usage, and version information. Use before large\noperations to verify system readiness and resource availability.",
      "inputSchema": {
        "type": "object",
        "properties": {}
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "status",
          "version",
          "active_sessions",
          "max_sessions",
          "session_ttl_minutes",
          "memory_usage_mb",
          "memory_threshold_mb",
          "memory_status",
          "history_operations_total",
          "history_limit_per_session"
        ],
        "properties": {
          "status": {
            "type": "string",
            "description": "Server health status: healthy, degraded, or unhealthy"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "version": {
            "type": "string",
            "description": "DataBeak server version"
          },
          "max_sessions": {
            "type": "integer",
            "description": "Maximum allowed concurrent sessions"
          },
          "memory_status": {
            "type": "string",
            "description": "Memory status: normal, warning, critical"
          },
          "active_sessions": {
            "type": "integer",
            "description": "Number of currently active data sessions"
          },
          "memory_usage_mb": {
            "type": "number",
            "description": "Current memory usage in MB"
          },
          "memory_threshold_mb": {
            "type": "number",
            "description": "Memory usage threshold in MB"
          },
          "session_ttl_minutes": {
            "type": "integer",
            "description": "Session timeout in minutes"
          },
          "history_operations_total": {
            "type": "integer",
            "description": "Total operations in all session histories"
          },
          "history_limit_per_session": {
            "type": "integer",
            "description": "Maximum operations per session history"
          }
        },
        "description": "Response model for system health check with memory monitoring."
      }
    },
    {
      "name": "get_server_info",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get DataBeak server capabilities and supported operations.\n\nReturns server version, available tools, supported file formats, and resource limits. Use to\ndiscover what operations are available before planning workflows.",
      "inputSchema": {
        "type": "object",
        "properties": {}
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "name",
          "version",
          "description",
          "capabilities",
          "max_download_size_mb",
          "session_timeout_minutes"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Server name and identification"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "version": {
            "type": "string",
            "description": "Current server version"
          },
          "description": {
            "type": "string",
            "description": "Server description and purpose"
          },
          "capabilities": {
            "type": "object",
            "description": "Available operations organized by category",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "max_download_size_mb": {
            "type": "integer",
            "description": "Maximum download size from URLs in MB"
          },
          "session_timeout_minutes": {
            "type": "integer",
            "description": "Default session timeout in minutes"
          }
        },
        "description": "Response model for server information and capabilities."
      }
    },
    {
      "name": "load_csv_from_url",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Load CSV file from URL into DataBeak session.\n\nDownloads and parses CSV data with security validation. Returns session ID and data preview for\nfurther operations.",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "NoHeader": {
            "type": "object",
            "properties": {
              "mode": {
                "type": "string",
                "const": "none",
                "default": "none"
              }
            },
            "description": "File has no headers - generate default column names (Column_0, Column_1, etc.)."
          },
          "AutoDetectHeader": {
            "type": "object",
            "properties": {
              "mode": {
                "type": "string",
                "const": "auto",
                "default": "auto"
              }
            },
            "description": "Auto-detect whether file has headers using pandas inference."
          },
          "ExplicitHeaderRow": {
            "type": "object",
            "required": [
              "row_number"
            ],
            "properties": {
              "mode": {
                "type": "string",
                "const": "row",
                "default": "row"
              },
              "row_number": {
                "type": "integer",
                "minimum": 0,
                "description": "Row number to use as header (0-based)"
              }
            },
            "description": "Use specific row number as header."
          }
        },
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string",
            "description": "URL of the CSV file to download and load"
          },
          "encoding": {
            "type": "string",
            "default": "utf-8",
            "description": "Text encoding for file reading (utf-8, latin1, cp1252, etc.)"
          },
          "delimiter": {
            "type": "string",
            "default": ",",
            "description": "Column delimiter character (comma, tab, semicolon, pipe)"
          },
          "header_config": {
            "anyOf": [
              {
                "oneOf": [
                  {
                    "$ref": "#/$defs/AutoDetectHeader"
                  },
                  {
                    "$ref": "#/$defs/NoHeader"
                  },
                  {
                    "$ref": "#/$defs/ExplicitHeaderRow"
                  }
                ],
                "discriminator": {
                  "mapping": {
                    "row": "#/$defs/ExplicitHeaderRow",
                    "auto": "#/$defs/AutoDetectHeader",
                    "none": "#/$defs/NoHeader"
                  },
                  "propertyName": "mode"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Header detection configuration"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "DataPreview": {
            "type": "object",
            "required": [
              "rows",
              "row_count",
              "column_count"
            ],
            "properties": {
              "rows": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                },
                "description": "Sample rows from dataset"
              },
              "row_count": {
                "type": "integer",
                "description": "Total number of rows in dataset"
              },
              "truncated": {
                "type": "boolean",
                "default": false,
                "description": "Whether preview is truncated"
              },
              "column_count": {
                "type": "integer",
                "description": "Total number of columns in dataset"
              }
            },
            "description": "Data preview with row samples."
          }
        },
        "required": [
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "data": {
            "anyOf": [
              {
                "$ref": "#/$defs/DataPreview"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample of loaded data"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows loaded"
          },
          "memory_usage_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Memory usage in megabytes"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of column names detected"
          }
        },
        "description": "Response model for data loading operations."
      }
    },
    {
      "name": "load_csv_from_content",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Load CSV data from string content into DataBeak session.\n\nParses CSV data directly from string with validation. Returns session ID and data preview for\nfurther operations.",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "NoHeader": {
            "type": "object",
            "properties": {
              "mode": {
                "type": "string",
                "const": "none",
                "default": "none"
              }
            },
            "description": "File has no headers - generate default column names (Column_0, Column_1, etc.)."
          },
          "AutoDetectHeader": {
            "type": "object",
            "properties": {
              "mode": {
                "type": "string",
                "const": "auto",
                "default": "auto"
              }
            },
            "description": "Auto-detect whether file has headers using pandas inference."
          },
          "ExplicitHeaderRow": {
            "type": "object",
            "required": [
              "row_number"
            ],
            "properties": {
              "mode": {
                "type": "string",
                "const": "row",
                "default": "row"
              },
              "row_number": {
                "type": "integer",
                "minimum": 0,
                "description": "Row number to use as header (0-based)"
              }
            },
            "description": "Use specific row number as header."
          }
        },
        "required": [
          "content"
        ],
        "properties": {
          "content": {
            "type": "string",
            "description": "CSV data as string content"
          },
          "delimiter": {
            "type": "string",
            "default": ",",
            "description": "Column delimiter character (comma, tab, semicolon, pipe)"
          },
          "header_config": {
            "anyOf": [
              {
                "oneOf": [
                  {
                    "$ref": "#/$defs/AutoDetectHeader"
                  },
                  {
                    "$ref": "#/$defs/NoHeader"
                  },
                  {
                    "$ref": "#/$defs/ExplicitHeaderRow"
                  }
                ],
                "discriminator": {
                  "mapping": {
                    "row": "#/$defs/ExplicitHeaderRow",
                    "auto": "#/$defs/AutoDetectHeader",
                    "none": "#/$defs/NoHeader"
                  },
                  "propertyName": "mode"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Header detection configuration"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "DataPreview": {
            "type": "object",
            "required": [
              "rows",
              "row_count",
              "column_count"
            ],
            "properties": {
              "rows": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                },
                "description": "Sample rows from dataset"
              },
              "row_count": {
                "type": "integer",
                "description": "Total number of rows in dataset"
              },
              "truncated": {
                "type": "boolean",
                "default": false,
                "description": "Whether preview is truncated"
              },
              "column_count": {
                "type": "integer",
                "description": "Total number of columns in dataset"
              }
            },
            "description": "Data preview with row samples."
          }
        },
        "required": [
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "data": {
            "anyOf": [
              {
                "$ref": "#/$defs/DataPreview"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample of loaded data"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows loaded"
          },
          "memory_usage_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Memory usage in megabytes"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of column names detected"
          }
        },
        "description": "Response model for data loading operations."
      }
    },
    {
      "name": "get_session_info",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get comprehensive information about a specific session.\n\nReturns session metadata, data status, and configuration. Essential for session management and\nworkflow coordination.",
      "inputSchema": {
        "type": "object",
        "properties": {}
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "created_at",
          "last_modified",
          "data_loaded"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "row_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows if data loaded"
          },
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO format)"
          },
          "data_loaded": {
            "type": "boolean",
            "description": "Whether session has data loaded"
          },
          "column_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of columns if data loaded"
          },
          "last_modified": {
            "type": "string",
            "description": "Last modification timestamp (ISO format)"
          }
        },
        "description": "Response model for session information."
      }
    },
    {
      "name": "get_cell_value",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get value of specific cell with coordinate targeting.\n\nSupports column name or index targeting. Returns value with coordinates and data type\ninformation.",
      "inputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "column"
        ],
        "properties": {
          "column": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ],
            "description": "Column name or column index (0-based) to retrieve"
          },
          "row_index": {
            "type": "integer",
            "description": "Row index (0-based) to retrieve cell from"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "value",
          "coordinates",
          "data_type"
        ],
        "properties": {
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cell value (None if null/missing)"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "data_type": {
            "type": "string",
            "description": "Pandas data type of the column"
          },
          "coordinates": {
            "type": "object",
            "description": "Cell coordinates with row index and column name",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            }
          }
        },
        "description": "Response model for cell value operations."
      }
    },
    {
      "name": "set_cell_value",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Set value of specific cell with coordinate targeting.\n\nSupports column name or index, tracks old and new values. Returns operation result with\ncoordinates and data type.",
      "inputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "column",
          "value"
        ],
        "properties": {
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "New value to set in the cell (str, int, float, bool, or None)"
          },
          "column": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ],
            "description": "Column name or column index (0-based) to update"
          },
          "row_index": {
            "type": "integer",
            "description": "Row index (0-based) to update cell in"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "coordinates",
          "old_value",
          "new_value",
          "data_type"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "data_type": {
            "type": "string",
            "description": "Pandas data type of the column"
          },
          "new_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "New cell value after update"
          },
          "old_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Previous cell value before update"
          },
          "coordinates": {
            "type": "object",
            "description": "Cell coordinates with row index and column name",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            }
          }
        },
        "description": "Response model for cell update operations."
      }
    },
    {
      "name": "get_row_data",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get data from specific row with optional column filtering.\n\nReturns complete row data or filtered by column list. Converts pandas types for JSON\nserialization.",
      "inputSchema": {
        "type": "object",
        "required": [
          "row_index"
        ],
        "properties": {
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Optional list of column names to retrieve (all columns if None)"
          },
          "row_index": {
            "type": "integer",
            "description": "Row index (0-based) to retrieve data from"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "data",
          "columns"
        ],
        "properties": {
          "data": {
            "type": "object",
            "description": "Row data as column name to value mapping",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of column names included in data"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "row_index": {
            "type": "integer",
            "description": "Row index (0-based)"
          }
        },
        "description": "Response model for row data operations."
      }
    },
    {
      "name": "get_column_data",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get data from specific column with optional row range slicing.\n\nSupports row range filtering for focused analysis. Returns column values with range metadata.",
      "inputSchema": {
        "type": "object",
        "required": [
          "column"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Column name to retrieve data from"
          },
          "end_row": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Ending row index (exclusive, 0-based) for data slice"
          },
          "start_row": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Starting row index (inclusive, 0-based) for data slice"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "column",
          "values",
          "total_values"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Column name"
          },
          "values": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            },
            "description": "Column values in specified range"
          },
          "end_row": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Ending row index used (None if to end)"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "start_row": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Starting row index used (None if from beginning)"
          },
          "total_values": {
            "type": "integer",
            "description": "Number of values returned"
          }
        },
        "description": "Response model for column data operations."
      }
    },
    {
      "name": "insert_row",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Insert new row at specified index with multiple data formats.\n\nSupports dict, list, and JSON string input with null value handling. Returns insertion result\nwith before/after statistics.",
      "inputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "data"
        ],
        "properties": {
          "data": {
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "string"
              }
            ],
            "description": "Row data as dict, list, or JSON string"
          },
          "row_index": {
            "type": "integer",
            "description": "Index to insert row at (0-based, -1 to append at end)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "rows_before",
          "rows_after",
          "data_inserted",
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Current column names"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "default": "insert_row",
            "description": "Operation type identifier"
          },
          "row_index": {
            "type": "integer",
            "description": "Index where row was inserted"
          },
          "rows_after": {
            "type": "integer",
            "description": "Row count after insertion"
          },
          "rows_before": {
            "type": "integer",
            "description": "Row count before insertion"
          },
          "data_inserted": {
            "type": "object",
            "description": "Actual data that was inserted",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            }
          }
        },
        "description": "Response model for row insertion operations."
      }
    },
    {
      "name": "delete_row",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Delete row at specified index with comprehensive tracking.\n\nCaptures deleted data for undo operations. Returns operation result with before/after\nstatistics.",
      "inputSchema": {
        "type": "object",
        "required": [
          "row_index"
        ],
        "properties": {
          "row_index": {
            "type": "integer",
            "description": "Row index (0-based) to delete"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "rows_before",
          "rows_after",
          "deleted_data"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "default": "delete_row",
            "description": "Operation type identifier"
          },
          "row_index": {
            "type": "integer",
            "description": "Index of deleted row"
          },
          "rows_after": {
            "type": "integer",
            "description": "Row count after deletion"
          },
          "rows_before": {
            "type": "integer",
            "description": "Row count before deletion"
          },
          "deleted_data": {
            "type": "object",
            "description": "Data from the deleted row",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            }
          }
        },
        "description": "Response model for row deletion operations."
      }
    },
    {
      "name": "update_row",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Update specific columns in row with selective updates.\n\nSupports partial column updates with change tracking. Returns old/new values for updated\ncolumns.",
      "inputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "data"
        ],
        "properties": {
          "data": {
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "string"
              }
            ],
            "description": "Column updates as dict mapping column names to values, or JSON string"
          },
          "row_index": {
            "type": "integer",
            "description": "Row index (0-based) to update"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "row_index",
          "columns_updated",
          "old_values",
          "new_values",
          "changes_made"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "default": "update_row",
            "description": "Operation type identifier"
          },
          "row_index": {
            "type": "integer",
            "description": "Index of updated row"
          },
          "new_values": {
            "type": "object",
            "description": "New values for updated columns",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "old_values": {
            "type": "object",
            "description": "Previous values for updated columns",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                },
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "changes_made": {
            "type": "integer",
            "description": "Number of columns that were changed"
          },
          "columns_updated": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns that were updated"
          }
        },
        "description": "Response model for row update operations."
      }
    },
    {
      "name": "get_statistics",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get comprehensive statistical summary of numerical columns.\n\nComputes descriptive statistics for all or specified numerical columns including\ncount, mean, standard deviation, min/max values, and percentiles. Optimized for\nAI workflows with clear statistical insights and data understanding.\n\nReturns:\n    Comprehensive statistical analysis with per-column summaries\n\nStatistical Metrics:\n    \ud83d\udcca Count: Number of non-null values\n    \ud83d\udcc8 Mean: Average value\n    \ud83d\udcc9 Std: Standard deviation (measure of spread)\n    \ud83d\udd22 Min/Max: Minimum and maximum values\n    \ud83d\udcca Percentiles: 25th, 50th (median), 75th quartiles\n\nExamples:\n    # Get statistics for all numeric columns\n    stats = await get_statistics(\"session_123\")\n\n    # Analyze specific columns only\n    stats = await get_statistics(\"session_123\", columns=[\"price\", \"quantity\"])\n\n    # Analyze all numeric columns (percentiles always included)\n    stats = await get_statistics(\"session_123\")\n\nAI Workflow Integration:\n    1. Essential for data understanding and quality assessment\n    2. Identifies data distribution and potential issues\n    3. Guides feature engineering and analysis decisions\n    4. Provides context for outlier detection thresholds",
      "inputSchema": {
        "type": "object",
        "required": [
          "columns"
        ],
        "properties": {
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "description": "List of specific columns to analyze (None = all numeric columns)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "StatisticsSummary": {
            "type": "object",
            "required": [
              "count"
            ],
            "properties": {
              "25%": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "25th percentile value (numeric columns only)"
              },
              "50%": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "50th percentile/median value (numeric columns only)"
              },
              "75%": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "75th percentile value (numeric columns only)"
              },
              "max": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Maximum value in the column"
              },
              "min": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Minimum value in the column"
              },
              "std": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Standard deviation (numeric columns only)"
              },
              "top": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Most frequently occurring value (categorical columns only)"
              },
              "freq": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Frequency of the most common value (categorical columns only)"
              },
              "mean": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Arithmetic mean (numeric columns only)"
              },
              "count": {
                "type": "integer",
                "description": "Total number of non-null values"
              },
              "unique": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Number of unique values (categorical columns only)"
              }
            },
            "description": "Statistical summary for a single column."
          }
        },
        "required": [
          "statistics",
          "column_count",
          "numeric_columns",
          "total_rows"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "statistics": {
            "type": "object",
            "description": "Statistical summary for each column",
            "additionalProperties": {
              "$ref": "#/$defs/StatisticsSummary"
            }
          },
          "total_rows": {
            "type": "integer",
            "description": "Total number of rows in the dataset"
          },
          "column_count": {
            "type": "integer",
            "description": "Total number of columns analyzed"
          },
          "numeric_columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of numeric columns that were analyzed"
          }
        },
        "description": "Response model for dataset statistical analysis."
      }
    },
    {
      "name": "get_column_statistics",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get detailed statistical analysis for a single column.\n\nProvides focused statistical analysis for a specific column including\ndata type information, null value handling, and comprehensive numerical\nstatistics when applicable.\n\nReturns:\n    Detailed statistical analysis for the specified column\n\nColumn Analysis:\n    \ud83d\udd0d Data Type: Detected pandas data type\n    \ud83d\udcca Statistics: Complete statistical summary for numeric columns\n    \ud83d\udd22 Non-null Count: Number of valid (non-null) values\n    \ud83d\udcc8 Distribution: Statistical distribution characteristics\n\nExamples:\n    # Analyze a price column\n    stats = await get_column_statistics(ctx, \"price\")\n\n    # Analyze a categorical column\n    stats = await get_column_statistics(ctx, \"category\")\n\nAI Workflow Integration:\n    1. Deep dive analysis for specific columns of interest\n    2. Data quality assessment for individual features\n    3. Understanding column characteristics for modeling\n    4. Validation of data transformations",
      "inputSchema": {
        "type": "object",
        "required": [
          "column"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Name of the column to analyze in detail"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "StatisticsSummary": {
            "type": "object",
            "required": [
              "count"
            ],
            "properties": {
              "25%": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "25th percentile value (numeric columns only)"
              },
              "50%": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "50th percentile/median value (numeric columns only)"
              },
              "75%": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "75th percentile value (numeric columns only)"
              },
              "max": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Maximum value in the column"
              },
              "min": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Minimum value in the column"
              },
              "std": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Standard deviation (numeric columns only)"
              },
              "top": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Most frequently occurring value (categorical columns only)"
              },
              "freq": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Frequency of the most common value (categorical columns only)"
              },
              "mean": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Arithmetic mean (numeric columns only)"
              },
              "count": {
                "type": "integer",
                "description": "Total number of non-null values"
              },
              "unique": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Number of unique values (categorical columns only)"
              }
            },
            "description": "Statistical summary for a single column."
          }
        },
        "required": [
          "column",
          "statistics",
          "data_type",
          "non_null_count"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Name of the analyzed column"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "data_type": {
            "enum": [
              "int64",
              "float64",
              "object",
              "bool",
              "datetime64",
              "category"
            ],
            "type": "string",
            "description": "Pandas data type of the column"
          },
          "statistics": {
            "$ref": "#/$defs/StatisticsSummary",
            "description": "Statistical summary for the column"
          },
          "non_null_count": {
            "type": "integer",
            "description": "Number of non-null values in the column"
          }
        },
        "description": "Response model for individual column statistical analysis."
      }
    },
    {
      "name": "get_correlation_matrix",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Calculate correlation matrix for numerical columns.\n\nComputes pairwise correlations between numerical columns using various\ncorrelation methods. Essential for understanding relationships between\nvariables and feature selection in analytical workflows.\n\nReturns:\n    Correlation matrix with pairwise correlation coefficients\n\nCorrelation Methods:\n    \ud83d\udcca Pearson: Linear relationships (default, assumes normality)\n    \ud83d\udcc8 Spearman: Monotonic relationships (rank-based, non-parametric)\n    \ud83d\udd04 Kendall: Concordant/discordant pairs (robust, small samples)\n\nExamples:\n    # Basic correlation analysis\n    corr = await get_correlation_matrix(ctx)\n\n    # Analyze specific columns with Spearman correlation\n    corr = await get_correlation_matrix(ctx,\n                                      columns=[\"price\", \"rating\", \"sales\"],\n                                      method=\"spearman\")\n\n    # Filter correlations above threshold\n    corr = await get_correlation_matrix(ctx, min_correlation=0.5)\n\nAI Workflow Integration:\n    1. Feature selection and dimensionality reduction\n    2. Multicollinearity detection before modeling\n    3. Understanding variable relationships\n    4. Data validation and quality assessment",
      "inputSchema": {
        "type": "object",
        "properties": {
          "method": {
            "enum": [
              "pearson",
              "spearman",
              "kendall"
            ],
            "type": "string",
            "default": "pearson",
            "description": "Correlation method: pearson (linear), spearman (rank), kendall (rank)"
          },
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "List of columns to include (None = all numeric columns)"
          },
          "min_correlation": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Minimum correlation threshold to include in results"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "correlation_matrix",
          "method",
          "columns_analyzed"
        ],
        "properties": {
          "method": {
            "enum": [
              "pearson",
              "spearman",
              "kendall"
            ],
            "type": "string",
            "description": "Correlation method used for analysis"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "columns_analyzed": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns included in correlation analysis"
          },
          "correlation_matrix": {
            "type": "object",
            "description": "Correlation coefficients between columns",
            "additionalProperties": {
              "type": "object",
              "additionalProperties": {
                "type": "number"
              }
            }
          }
        },
        "description": "Response model for correlation matrix analysis."
      }
    },
    {
      "name": "get_value_counts",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get frequency distribution of values in a column.\n\nAnalyzes the distribution of values in a specified column, providing\ncounts and optionally percentages for each unique value. Essential for\nunderstanding categorical data and identifying common patterns.\n\nReturns:\n    Frequency distribution with counts/percentages for each unique value\n\nAnalysis Features:\n    \ud83d\udd22 Frequency Counts: Raw counts for each unique value\n    \ud83d\udcca Percentage Mode: Normalized frequencies as percentages\n    \ud83c\udfaf Top Values: Configurable limit for most frequent values\n    \ud83d\udcc8 Summary Stats: Total values, unique count, distribution insights\n\nExamples:\n    # Basic value counts\n    counts = await get_value_counts(ctx, \"category\")\n\n    # Get percentages for top 10 values\n    counts = await get_value_counts(ctx, \"status\",\n                                  normalize=True, top_n=10)\n\n    # Sort in ascending order\n    counts = await get_value_counts(ctx, \"grade\", ascending=True)\n\nAI Workflow Integration:\n    1. Categorical data analysis and encoding decisions\n    2. Data quality assessment (identifying rare values)\n    3. Understanding distribution for sampling strategies\n    4. Feature engineering insights for categorical variables",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "normalize",
          "sort",
          "ascending",
          "top_n"
        ],
        "properties": {
          "sort": {
            "type": "boolean",
            "description": "Sort results by frequency"
          },
          "top_n": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum number of values to return (None = all values)"
          },
          "column": {
            "type": "string",
            "description": "Name of the column to analyze value distribution"
          },
          "ascending": {
            "type": "boolean",
            "description": "Sort in ascending order (False = descending)"
          },
          "normalize": {
            "type": "boolean",
            "description": "Return percentages instead of raw counts"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "column",
          "value_counts",
          "total_values",
          "unique_values"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Name of the analyzed column"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "normalize": {
            "type": "boolean",
            "default": false,
            "description": "Whether counts are normalized as proportions"
          },
          "total_values": {
            "type": "integer",
            "description": "Total number of values (including duplicates)"
          },
          "value_counts": {
            "type": "object",
            "description": "Count or proportion of each unique value",
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "number"
                }
              ]
            }
          },
          "unique_values": {
            "type": "integer",
            "description": "Number of unique/distinct values"
          }
        },
        "description": "Response model for value frequency analysis."
      }
    },
    {
      "name": "detect_outliers",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Detect outliers in numerical columns using various algorithms.\n\nIdentifies data points that deviate significantly from the normal pattern\nusing statistical and machine learning methods. Essential for data quality\nassessment and anomaly detection in analytical workflows.\n\nReturns:\n    Detailed outlier analysis with locations and severity scores\n\nDetection Methods:\n    \ud83d\udcca Z-Score: Statistical method based on standard deviations\n    \ud83d\udcc8 IQR: Interquartile range method (robust to distribution)\n    \ud83e\udd16 Isolation Forest: ML-based method for high-dimensional data\n\nExamples:\n    # Basic outlier detection\n    outliers = await detect_outliers(ctx, [\"price\", \"quantity\"])\n\n    # Use IQR method with custom threshold\n    outliers = await detect_outliers(ctx, [\"sales\"],\n                                    method=\"iqr\", threshold=2.5)\n\nAI Workflow Integration:\n    1. Data quality assessment and cleaning\n    2. Anomaly detection for fraud/error identification\n    3. Data preprocessing for machine learning\n    4. Understanding data distribution characteristics",
      "inputSchema": {
        "type": "object",
        "properties": {
          "method": {
            "type": "string",
            "default": "iqr",
            "description": "Detection algorithm: zscore, iqr, or isolation_forest"
          },
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "List of numerical columns to analyze for outliers (None = all numeric)"
          },
          "threshold": {
            "type": "number",
            "default": 1.5,
            "description": "Sensitivity threshold (higher = less sensitive)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "OutlierInfo": {
            "type": "object",
            "required": [
              "row_index",
              "value"
            ],
            "properties": {
              "value": {
                "type": "number",
                "description": "Outlier value found"
              },
              "z_score": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Z-score if using z-score method"
              },
              "iqr_score": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "IQR score if using IQR method"
              },
              "row_index": {
                "type": "integer",
                "description": "Row index where outlier was detected"
              }
            },
            "description": "Information about a detected outlier."
          }
        },
        "required": [
          "outliers_found",
          "outliers_by_column",
          "method",
          "threshold"
        ],
        "properties": {
          "method": {
            "enum": [
              "zscore",
              "iqr",
              "isolation_forest"
            ],
            "type": "string",
            "description": "Detection method used"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "threshold": {
            "type": "number",
            "description": "Threshold value used for detection"
          },
          "outliers_found": {
            "type": "integer",
            "description": "Total number of outliers detected"
          },
          "outliers_by_column": {
            "type": "object",
            "description": "Outliers grouped by column name",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/$defs/OutlierInfo"
              }
            }
          }
        },
        "description": "Response model for outlier detection analysis."
      }
    },
    {
      "name": "profile_data",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Generate comprehensive data profile with statistical insights.\n\nCreates a complete analytical profile of the dataset including column\ncharacteristics, data types, null patterns, and statistical summaries.\nProvides holistic data understanding for analytical workflows.\n\nReturns:\n    Comprehensive data profile with multi-dimensional analysis\n\nProfile Components:\n    \ud83d\udcca Column Profiles: Data types, null patterns, uniqueness\n    \ud83d\udcc8 Statistical Summaries: Numerical column characteristics\n    \ud83d\udd17 Correlations: Inter-variable relationships (optional)\n    \ud83c\udfaf Outliers: Anomaly detection across columns (optional)\n    \ud83d\udcbe Memory Usage: Resource consumption analysis\n\nExamples:\n    # Full data profile\n    profile = await profile_data(ctx)\n\n    # Quick profile without expensive computations\n    profile = await profile_data(ctx,\n                               include_correlations=False,\n                               include_outliers=False)\n\nAI Workflow Integration:\n    1. Initial data exploration and understanding\n    2. Automated data quality reporting\n    3. Feature engineering guidance\n    4. Data preprocessing strategy development",
      "inputSchema": {
        "type": "object",
        "properties": {}
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "ProfileInfo": {
            "type": "object",
            "required": [
              "column_name",
              "data_type",
              "null_count",
              "null_percentage",
              "unique_count",
              "unique_percentage"
            ],
            "properties": {
              "data_type": {
                "type": "string",
                "description": "Pandas data type of the column"
              },
              "frequency": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Frequency count of most common value"
              },
              "null_count": {
                "type": "integer",
                "description": "Number of null/missing values"
              },
              "column_name": {
                "type": "string",
                "description": "Name of the profiled column"
              },
              "unique_count": {
                "type": "integer",
                "description": "Number of unique values"
              },
              "most_frequent": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Most frequently occurring value"
              },
              "null_percentage": {
                "type": "number",
                "description": "Percentage of null values (0-100)"
              },
              "unique_percentage": {
                "type": "number",
                "description": "Percentage of unique values (0-100)"
              }
            },
            "description": "Data profiling information for a column."
          }
        },
        "required": [
          "profile",
          "total_rows",
          "total_columns",
          "memory_usage_mb"
        ],
        "properties": {
          "profile": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/$defs/ProfileInfo"
            }
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "total_rows": {
            "type": "integer"
          },
          "total_columns": {
            "type": "integer"
          },
          "memory_usage_mb": {
            "type": "number"
          },
          "include_outliers": {
            "type": "boolean",
            "default": true
          },
          "include_correlations": {
            "type": "boolean",
            "default": true
          }
        },
        "description": "Response model for comprehensive data profiling."
      }
    },
    {
      "name": "group_by_aggregate",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Group data and compute aggregations for analytical insights.\n\nPerforms GROUP BY operations with multiple aggregation functions\nper column. Essential for segmentation analysis and understanding patterns\nacross different data groups.\n\nReturns:\n    Grouped aggregation results with statistics per group\n\nAggregation Functions:\n    \ud83d\udcca count, mean, median, sum, min, max\n    \ud83d\udcc8 std, var (statistical measures)\n    \ud83c\udfaf first, last (positional)\n    \ud83d\udccb nunique (unique count)\n\nExamples:\n    # Sales analysis by region\n    result = await group_by_aggregate(ctx,\n                                    group_by=[\"region\"],\n                                    aggregations={\"sales\": [\"sum\", \"mean\", \"count\"]})\n\n    # Multi-dimensional grouping\n    result = await group_by_aggregate(ctx,\n                                    group_by=[\"category\", \"region\"],\n                                    aggregations={\n                                        \"price\": [\"mean\", \"std\"],\n                                        \"quantity\": [\"sum\", \"count\"]\n                                    })\n\nAI Workflow Integration:\n    1. Segmentation analysis and market research\n    2. Feature engineering for categorical interactions\n    3. Data summarization for reporting and insights\n    4. Understanding group-based patterns and trends",
      "inputSchema": {
        "type": "object",
        "required": [
          "group_by",
          "aggregations"
        ],
        "properties": {
          "group_by": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of columns to group by for segmentation analysis"
          },
          "aggregations": {
            "type": "object",
            "description": "Dict mapping column names to list of aggregation functions",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "GroupStatistics": {
            "type": "object",
            "required": [
              "count"
            ],
            "properties": {
              "max": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Maximum value in the group"
              },
              "min": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Minimum value in the group"
              },
              "std": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Standard deviation for numeric columns"
              },
              "sum": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Sum of values for numeric columns"
              },
              "mean": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Mean value for numeric columns"
              },
              "count": {
                "type": "integer",
                "description": "Number of records in this group"
              }
            },
            "description": "Statistics for a grouped data segment."
          }
        },
        "required": [
          "groups",
          "group_by_columns",
          "aggregated_columns",
          "total_groups"
        ],
        "properties": {
          "groups": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/$defs/GroupStatistics"
            }
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "total_groups": {
            "type": "integer"
          },
          "group_by_columns": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "aggregated_columns": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "description": "Response model for group aggregation operations."
      }
    },
    {
      "name": "find_cells_with_value",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Find all cells containing a specific value for data discovery.\n\nSearches through the dataset to locate all occurrences of a specific value,\nproviding coordinates and context. Essential for data validation, quality\nchecking, and understanding data patterns.\n\nReturns:\n    Locations of all matching cells with coordinates and context\n\nSearch Features:\n    \ud83c\udfaf Exact Match: Precise value matching with type consideration\n    \ud83d\udd0d Substring Search: Flexible text-based search for string columns\n    \ud83d\udccd Coordinates: Row and column positions for each match\n    \ud83d\udcca Summary Stats: Total matches, columns searched, search parameters\n\nExamples:\n    # Find all cells with value \"ERROR\"\n    results = await find_cells_with_value(ctx, \"ERROR\")\n\n    # Substring search in specific columns\n    results = await find_cells_with_value(ctx, \"john\",\n                                        columns=[\"name\", \"email\"],\n                                        exact_match=False)\n\nAI Workflow Integration:\n    1. Data quality assessment and error detection\n    2. Pattern identification and data validation\n    3. Reference data location and verification\n    4. Data cleaning and preprocessing guidance",
      "inputSchema": {
        "type": "object",
        "required": [
          "value",
          "columns",
          "exact_match"
        ],
        "properties": {
          "value": {
            "title": "Value",
            "description": "The value to search for (any data type)"
          },
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "description": "List of columns to search (None = all columns)"
          },
          "exact_match": {
            "type": "boolean",
            "description": "True for exact match, False for substring search"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "CellLocation": {
            "type": "object",
            "required": [
              "row",
              "column",
              "value"
            ],
            "properties": {
              "row": {
                "type": "integer",
                "description": "Row index (0-based)"
              },
              "value": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "Cell value (str, int, float, bool, or None)"
              },
              "column": {
                "type": "string",
                "description": "Column name"
              }
            },
            "description": "Cell location and value information."
          }
        },
        "required": [
          "search_value",
          "matches_found",
          "coordinates",
          "exact_match"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "coordinates": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/CellLocation"
            }
          },
          "exact_match": {
            "type": "boolean"
          },
          "search_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ]
          },
          "matches_found": {
            "type": "integer"
          },
          "search_column": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null
          }
        },
        "description": "Response model for cell value search operations."
      }
    },
    {
      "name": "get_data_summary",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Get comprehensive data overview and structural summary.\n\nProvides high-level overview of dataset structure, dimensions, data types,\nand memory usage. Essential first step in data exploration and analysis\nplanning workflows.\n\nReturns:\n    Comprehensive data overview with structural information\n\nSummary Components:\n    \ud83d\udccf Dimensions: Rows, columns, shape information\n    \ud83d\udd22 Data Types: Column type distribution and analysis\n    \ud83d\udcbe Memory Usage: Resource consumption breakdown\n    \ud83d\udc40 Preview: Sample rows for quick data understanding (optional)\n    \ud83d\udcca Overview: High-level dataset characteristics\n\nExamples:\n    # Full data summary with preview\n    summary = await get_data_summary(ctx)\n\n    # Structure summary without preview data\n    summary = await get_data_summary(ctx, include_preview=False)\n\nAI Workflow Integration:\n    1. Initial data exploration and understanding\n    2. Planning analytical approaches based on data structure\n    3. Resource planning for large dataset processing\n    4. Data quality initial assessment",
      "inputSchema": {
        "type": "object",
        "required": [
          "include_preview",
          "max_preview_rows"
        ],
        "properties": {
          "include_preview": {
            "type": "boolean",
            "description": "Include sample data rows in summary"
          },
          "max_preview_rows": {
            "type": "integer",
            "description": "Maximum number of preview rows to include"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "DataPreview": {
            "type": "object",
            "required": [
              "rows",
              "row_count",
              "column_count"
            ],
            "properties": {
              "rows": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                },
                "description": "Sample rows from dataset"
              },
              "row_count": {
                "type": "integer",
                "description": "Total number of rows in dataset"
              },
              "truncated": {
                "type": "boolean",
                "default": false,
                "description": "Whether preview is truncated"
              },
              "column_count": {
                "type": "integer",
                "description": "Total number of columns in dataset"
              }
            },
            "description": "Data preview with row samples."
          },
          "DataTypeInfo": {
            "type": "object",
            "required": [
              "type",
              "nullable",
              "unique_count",
              "null_count"
            ],
            "properties": {
              "type": {
                "enum": [
                  "int64",
                  "float64",
                  "object",
                  "bool",
                  "datetime64",
                  "category"
                ],
                "type": "string",
                "description": "Pandas data type"
              },
              "nullable": {
                "type": "boolean",
                "description": "Whether column allows null values"
              },
              "null_count": {
                "type": "integer",
                "description": "Number of null/missing values"
              },
              "unique_count": {
                "type": "integer",
                "description": "Number of unique values"
              }
            },
            "description": "Data type information for columns."
          },
          "MissingDataInfo": {
            "type": "object",
            "required": [
              "total_missing",
              "missing_by_column",
              "missing_percentage"
            ],
            "properties": {
              "total_missing": {
                "type": "integer",
                "description": "Total number of missing values across all columns"
              },
              "missing_by_column": {
                "type": "object",
                "description": "Missing value count for each column",
                "additionalProperties": {
                  "type": "integer"
                }
              },
              "missing_percentage": {
                "type": "number",
                "description": "Percentage of missing values (0-100)"
              }
            },
            "description": "Missing data summary."
          }
        },
        "required": [
          "coordinate_system",
          "shape",
          "columns",
          "data_types",
          "missing_data",
          "memory_usage_mb"
        ],
        "properties": {
          "shape": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            }
          },
          "columns": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/$defs/DataTypeInfo"
            }
          },
          "preview": {
            "anyOf": [
              {
                "$ref": "#/$defs/DataPreview"
              },
              {
                "type": "null"
              }
            ],
            "default": null
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "data_types": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "missing_data": {
            "$ref": "#/$defs/MissingDataInfo"
          },
          "memory_usage_mb": {
            "type": "number"
          },
          "coordinate_system": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        },
        "description": "Response model for data overview and summary."
      }
    },
    {
      "name": "inspect_data_around",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Inspect data around a specific coordinate for contextual analysis.\n\nExamines the data surrounding a specific cell to understand context,\npatterns, and relationships. Useful for data validation, error investigation,\nand understanding local data patterns.\n\nReturns:\n    Contextual view of data around the specified coordinates\n\nInspection Features:\n    \ud83d\udccd Center Point: Specified cell as reference point\n    \ud83d\udd0d Radius View: Configurable area around center cell\n    \ud83d\udcca Data Context: Surrounding values for pattern analysis\n    \ud83c\udfaf Coordinates: Clear row/column reference system\n\nExamples:\n    # Inspect around a specific data point\n    context = await inspect_data_around(ctx, row=50,\n                                      column_name=\"price\", radius=3)\n\n    # Minimal context view\n    context = await inspect_data_around(ctx, row=10,\n                                      column_name=\"status\", radius=1)\n\nAI Workflow Integration:\n    1. Error investigation and data quality assessment\n    2. Pattern recognition in local data areas\n    3. Understanding data relationships and context\n    4. Validation of data transformations and corrections",
      "inputSchema": {
        "type": "object",
        "required": [
          "row",
          "column_name"
        ],
        "properties": {
          "row": {
            "type": "integer",
            "description": "Row index to center the inspection (0-based)"
          },
          "radius": {
            "type": "integer",
            "default": 2,
            "description": "Number of rows/columns to include around center point"
          },
          "column_name": {
            "type": "string",
            "description": "Name of the column to center on"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "DataPreview": {
            "type": "object",
            "required": [
              "rows",
              "row_count",
              "column_count"
            ],
            "properties": {
              "rows": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "integer"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                },
                "description": "Sample rows from dataset"
              },
              "row_count": {
                "type": "integer",
                "description": "Total number of rows in dataset"
              },
              "truncated": {
                "type": "boolean",
                "default": false,
                "description": "Whether preview is truncated"
              },
              "column_count": {
                "type": "integer",
                "description": "Total number of columns in dataset"
              }
            },
            "description": "Data preview with row samples."
          }
        },
        "required": [
          "center_coordinates",
          "surrounding_data",
          "radius"
        ],
        "properties": {
          "radius": {
            "type": "integer"
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "surrounding_data": {
            "$ref": "#/$defs/DataPreview"
          },
          "center_coordinates": {
            "type": "object",
            "additionalProperties": true
          }
        },
        "description": "Response model for contextual data inspection."
      }
    },
    {
      "name": "validate_schema",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Validate data against a schema definition using Pandera validation framework.\n\nThis function leverages Pandera's comprehensive validation capabilities to provide\nrobust data validation. The schema is dynamically converted to Pandera format\nand applied to the DataFrame for maximum validation coverage and reliability.\n\nFor more information on Pandera validation capabilities, see:\n- Pandera Documentation: https://pandera.readthedocs.io/\n- Check API: https://pandera.readthedocs.io/en/stable/reference/generated/pandera.api.checks.Check.html\n\nReturns:\n    ValidateSchemaResult with validation status and detailed error information",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "ValidationSchema": {
            "type": "object",
            "description": "Schema definition for data validation.",
            "additionalProperties": {
              "$ref": "#/$defs/ColumnValidationRules"
            }
          },
          "ColumnValidationRules": {
            "type": "object",
            "properties": {
              "isin": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        },
                        {
                          "type": "boolean"
                        }
                      ]
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Values must be in this list of allowed values (Pandera Check.isin)"
              },
              "notin": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        },
                        {
                          "type": "boolean"
                        }
                      ]
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Values must not be in this list of forbidden values (Pandera Check.notin)"
              },
              "coerce": {
                "type": "boolean",
                "default": false,
                "description": "Attempt automatic type conversion (Pandera coerce parameter)"
              },
              "unique": {
                "type": "boolean",
                "default": false,
                "description": "Ensure all column values are unique (Pandera unique parameter)"
              },
              "equal_to": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "All values must equal this exact value (Pandera Check.equal_to)"
              },
              "in_range": {
                "anyOf": [
                  {
                    "type": "object",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "type": "integer"
                        },
                        {
                          "type": "number"
                        }
                      ]
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Numeric range constraints as {'min': num, 'max': num} (Pandera Check.in_range)"
              },
              "nullable": {
                "type": "boolean",
                "default": true,
                "description": "Allow null/NaN values in the column (Pandera nullable parameter)"
              },
              "ignore_na": {
                "type": "boolean",
                "default": true,
                "description": "Ignore null values during validation checks (Pandera ignore_na parameter)"
              },
              "less_than": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "All numeric values must be strictly less than this (Pandera Check.less_than)"
              },
              "str_length": {
                "anyOf": [
                  {
                    "type": "object",
                    "additionalProperties": {
                      "type": "integer"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "String length constraints as {'min': int, 'max': int} (Pandera Check.str_length)"
              },
              "str_matches": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Strings must match this regex pattern (Pandera Check.str_matches)"
              },
              "greater_than": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "All numeric values must be strictly greater than this (Pandera Check.greater_than)"
              },
              "not_equal_to": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "string"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "No values may equal this value (Pandera Check.not_equal_to)"
              },
              "str_contains": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Strings must contain this substring (Pandera Check.str_contains)"
              },
              "str_endswith": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Strings must end with this suffix (Pandera Check.str_endswith)"
              },
              "raise_warning": {
                "type": "boolean",
                "default": false,
                "description": "Raise warning instead of exception on validation failure (Pandera raise_warning parameter)"
              },
              "str_startswith": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Strings must start with this prefix (Pandera Check.str_startswith)"
              },
              "less_than_or_equal_to": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "All numeric values must be <= this value (Pandera Check.less_than_or_equal_to)"
              },
              "greater_than_or_equal_to": {
                "anyOf": [
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "All numeric values must be >= this value (Pandera Check.greater_than_or_equal_to)"
              }
            },
            "description": "Column validation rules based on Pandera Field and Check validation capabilities.\n\nThis class implements comprehensive column validation using rules compatible with\nPandera's validation system. It leverages Pandera's robust validation framework\nfor maximum data quality assurance.\n\nFor complete documentation on validation behaviors and options, see:\n- Pandera Field API: https://pandera.readthedocs.io/en/stable/reference/generated/pandera.api.pandas.model_components.Field.html\n- Pandera Check API: https://pandera.readthedocs.io/en/stable/reference/generated/pandera.api.checks.Check.html\n- Pandas validation guide: https://pandas.pydata.org/docs/user_guide/basics.html#validation\n\nThe validation rules are organized by category to match Pandera's Check API for\nmaximum compatibility and comprehensive data validation coverage."
          }
        },
        "required": [
          "schema"
        ],
        "properties": {
          "schema": {
            "$ref": "#/$defs/ValidationSchema",
            "description": "Schema definition with column validation rules"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "ValidationError": {
            "type": "object",
            "required": [
              "error",
              "message"
            ],
            "properties": {
              "error": {
                "type": "string",
                "description": "Type of validation error encountered"
              },
              "message": {
                "type": "string",
                "description": "Human-readable error message"
              },
              "check_name": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Name of the Pandera check that failed"
              },
              "failure_case": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Specific failure case details from Pandera"
              }
            },
            "description": "Individual validation error details for Pandera-based validation."
          },
          "ValidationSummary": {
            "type": "object",
            "required": [
              "total_columns",
              "valid_columns",
              "invalid_columns",
              "missing_columns",
              "extra_columns"
            ],
            "properties": {
              "extra_columns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Columns in data but not defined in schema"
              },
              "total_columns": {
                "type": "integer",
                "description": "Total number of columns in schema"
              },
              "valid_columns": {
                "type": "integer",
                "description": "Number of columns that passed validation"
              },
              "invalid_columns": {
                "type": "integer",
                "description": "Number of columns that failed validation"
              },
              "missing_columns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Columns defined in schema but missing from data"
              }
            },
            "description": "Summary of validation results."
          }
        },
        "required": [
          "valid",
          "errors",
          "summary",
          "validation_errors"
        ],
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Whether validation passed overall"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/ValidationError"
            },
            "description": "All validation errors found"
          },
          "summary": {
            "$ref": "#/$defs/ValidationSummary",
            "description": "Summary of validation results"
          },
          "validation_errors": {
            "type": "object",
            "description": "Validation errors grouped by column name",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/$defs/ValidationError"
              }
            }
          }
        },
        "description": "Response model for schema validation operations."
      }
    },
    {
      "name": "check_data_quality",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Check data quality based on predefined or custom rules.\n\nReturns:\n    DataQualityResult with comprehensive quality assessment results",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "OutliersRule": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "outliers",
                "default": "outliers",
                "description": "Rule type identifier"
              },
              "threshold": {
                "type": "number",
                "default": 0.05,
                "maximum": 1,
                "minimum": 0,
                "description": "Maximum allowable outlier ratio (0.0-1.0)"
              }
            },
            "description": "Rule for checking outliers in numeric columns."
          },
          "DataTypesRule": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "data_types",
                "default": "data_types",
                "description": "Rule type identifier"
              }
            },
            "description": "Rule for checking data type consistency."
          },
          "DuplicatesRule": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "duplicates",
                "default": "duplicates",
                "description": "Rule type identifier"
              },
              "columns": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Columns to consider for duplicate detection (None for all columns)"
              },
              "threshold": {
                "type": "number",
                "default": 0.01,
                "maximum": 1,
                "minimum": 0,
                "description": "Maximum allowable duplicate ratio (0.0-1.0)"
              }
            },
            "description": "Rule for checking duplicate rows."
          },
          "UniquenessRule": {
            "type": "object",
            "required": [
              "column"
            ],
            "properties": {
              "type": {
                "type": "string",
                "const": "uniqueness",
                "default": "uniqueness",
                "description": "Rule type identifier"
              },
              "column": {
                "type": "string",
                "description": "Column name to check for uniqueness"
              },
              "expected_unique": {
                "type": "boolean",
                "default": true,
                "description": "Whether column values are expected to be unique"
              }
            },
            "description": "Rule for checking column uniqueness."
          },
          "ConsistencyRule": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "consistency",
                "default": "consistency",
                "description": "Rule type identifier"
              },
              "columns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Column pairs to check for consistency"
              }
            },
            "description": "Rule for checking data consistency between columns."
          },
          "CompletenessRule": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "completeness",
                "default": "completeness",
                "description": "Rule type identifier"
              },
              "columns": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Specific columns to check (None for all columns)"
              },
              "threshold": {
                "type": "number",
                "default": 0.95,
                "maximum": 1,
                "minimum": 0,
                "description": "Minimum completeness ratio required (0.0-1.0)"
              }
            },
            "description": "Rule for checking data completeness."
          }
        },
        "properties": {
          "rules": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "oneOf": [
                    {
                      "$ref": "#/$defs/CompletenessRule"
                    },
                    {
                      "$ref": "#/$defs/DuplicatesRule"
                    },
                    {
                      "$ref": "#/$defs/UniquenessRule"
                    },
                    {
                      "$ref": "#/$defs/DataTypesRule"
                    },
                    {
                      "$ref": "#/$defs/OutliersRule"
                    },
                    {
                      "$ref": "#/$defs/ConsistencyRule"
                    }
                  ],
                  "discriminator": {
                    "mapping": {
                      "outliers": "#/$defs/OutliersRule",
                      "data_types": "#/$defs/DataTypesRule",
                      "duplicates": "#/$defs/DuplicatesRule",
                      "uniqueness": "#/$defs/UniquenessRule",
                      "consistency": "#/$defs/ConsistencyRule",
                      "completeness": "#/$defs/CompletenessRule"
                    },
                    "propertyName": "type"
                  }
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "List of quality rules to check (None = use default rules)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "QualityIssue": {
            "type": "object",
            "required": [
              "type",
              "severity",
              "message",
              "affected_rows",
              "metric_value",
              "threshold"
            ],
            "properties": {
              "type": {
                "type": "string",
                "description": "Type of quality issue identified"
              },
              "column": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Column name where issue was found (None for dataset-wide issues)"
              },
              "message": {
                "type": "string",
                "description": "Human-readable description of the quality issue"
              },
              "severity": {
                "type": "string",
                "description": "Severity level: low, medium, high, or critical"
              },
              "threshold": {
                "type": "number",
                "description": "Threshold value that was exceeded or not met"
              },
              "metric_value": {
                "type": "number",
                "description": "Measured metric value that triggered the issue"
              },
              "affected_rows": {
                "type": "integer",
                "description": "Number of rows affected by this issue"
              }
            },
            "description": "Individual quality issue details."
          },
          "QualityResults": {
            "type": "object",
            "required": [
              "overall_score",
              "passed_rules",
              "failed_rules",
              "total_issues",
              "rule_results",
              "issues",
              "recommendations"
            ],
            "properties": {
              "issues": {
                "type": "array",
                "items": {
                  "$ref": "#/$defs/QualityIssue"
                },
                "description": "All quality issues found across all rules"
              },
              "failed_rules": {
                "type": "integer",
                "description": "Number of quality rules that failed"
              },
              "passed_rules": {
                "type": "integer",
                "description": "Number of quality rules that passed"
              },
              "rule_results": {
                "type": "array",
                "items": {
                  "$ref": "#/$defs/QualityRuleResult"
                },
                "description": "Detailed results for each quality rule"
              },
              "total_issues": {
                "type": "integer",
                "description": "Total number of quality issues found"
              },
              "overall_score": {
                "type": "number",
                "description": "Overall data quality score (0-100)"
              },
              "recommendations": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Suggested actions to improve data quality"
              }
            },
            "description": "Comprehensive quality check results."
          },
          "QualityRuleResult": {
            "type": "object",
            "required": [
              "rule_type",
              "passed",
              "score",
              "issues"
            ],
            "properties": {
              "score": {
                "type": "number",
                "description": "Quality score for this rule (0-100)"
              },
              "column": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Column name if rule applies to specific column"
              },
              "issues": {
                "type": "array",
                "items": {
                  "$ref": "#/$defs/QualityIssue"
                },
                "description": "List of quality issues found by this rule"
              },
              "passed": {
                "type": "boolean",
                "description": "Whether the quality rule passed"
              },
              "rule_type": {
                "type": "string",
                "description": "Type of quality rule that was checked"
              }
            },
            "description": "Result of a single quality rule check."
          }
        },
        "required": [
          "quality_results"
        ],
        "properties": {
          "quality_results": {
            "$ref": "#/$defs/QualityResults",
            "description": "Comprehensive quality assessment results"
          }
        },
        "description": "Response model for data quality check operations."
      }
    },
    {
      "name": "find_anomalies",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Find anomalies in the data using multiple detection methods.\n\nReturns:\n    FindAnomaliesResult with comprehensive anomaly detection results",
      "inputSchema": {
        "type": "object",
        "properties": {
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "List of columns to analyze (None = all columns)"
          },
          "methods": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "enum": [
                    "statistical",
                    "pattern",
                    "missing"
                  ],
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Detection methods to use (None = all methods)"
          },
          "sensitivity": {
            "type": "number",
            "default": 0.95,
            "description": "Sensitivity threshold for anomaly detection (0-1)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "$defs": {
          "AnomalyResults": {
            "type": "object",
            "required": [
              "summary",
              "by_column",
              "by_method"
            ],
            "properties": {
              "summary": {
                "$ref": "#/$defs/AnomalySummary",
                "description": "Summary statistics of anomaly detection results"
              },
              "by_column": {
                "type": "object",
                "description": "Anomalies organized by column name",
                "additionalProperties": {
                  "anyOf": [
                    {
                      "$ref": "#/$defs/StatisticalAnomaly"
                    },
                    {
                      "$ref": "#/$defs/PatternAnomaly"
                    },
                    {
                      "$ref": "#/$defs/MissingAnomaly"
                    }
                  ]
                }
              },
              "by_method": {
                "type": "object",
                "description": "Anomalies organized by detection method",
                "additionalProperties": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "$ref": "#/$defs/StatisticalAnomaly"
                      },
                      {
                        "$ref": "#/$defs/PatternAnomaly"
                      },
                      {
                        "$ref": "#/$defs/MissingAnomaly"
                      }
                    ]
                  }
                }
              }
            },
            "description": "Comprehensive anomaly detection results."
          },
          "AnomalySummary": {
            "type": "object",
            "required": [
              "total_anomalies",
              "affected_rows",
              "affected_columns"
            ],
            "properties": {
              "affected_rows": {
                "type": "integer",
                "description": "Number of rows containing at least one anomaly"
              },
              "total_anomalies": {
                "type": "integer",
                "description": "Total number of anomalies found across all columns"
              },
              "affected_columns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Names of columns where anomalies were detected"
              }
            },
            "description": "Summary of anomaly detection results."
          },
          "MissingAnomaly": {
            "type": "object",
            "required": [
              "missing_count",
              "missing_ratio",
              "missing_indices",
              "sequential_clusters",
              "pattern"
            ],
            "properties": {
              "pattern": {
                "enum": [
                  "clustered",
                  "random"
                ],
                "type": "string",
                "description": "Distribution pattern of missing values ('clustered' or 'random')"
              },
              "missing_count": {
                "type": "integer",
                "description": "Total number of missing/null values found in the column"
              },
              "missing_ratio": {
                "type": "number",
                "maximum": 1,
                "minimum": 0,
                "description": "Ratio of missing values to total values (0.0 to 1.0)"
              },
              "missing_indices": {
                "type": "array",
                "items": {
                  "type": "integer"
                },
                "description": "Row indices where missing values occur (limited to first 100 for performance)"
              },
              "sequential_clusters": {
                "type": "integer",
                "minimum": 0,
                "description": "Number of consecutive missing value sequences detected"
              }
            },
            "description": "Missing value anomaly detection result.\n\nRepresents anomalies found in missing value patterns within a column.\nThis includes both the quantity of missing values and their distribution\npatterns (clustered vs random), which can indicate data quality issues\nor systematic collection problems.\n\nAttributes:\n    missing_count: Total number of missing/null values in the column\n    missing_ratio: Proportion of missing values (0.0 to 1.0)\n    missing_indices: Row indices where missing values occur (limited to first 100)\n    sequential_clusters: Number of consecutive missing value sequences found\n    pattern: Distribution pattern of missing values ('clustered' or 'random')"
          },
          "PatternAnomaly": {
            "type": "object",
            "required": [
              "anomaly_count",
              "anomaly_indices",
              "sample_values",
              "expected_patterns"
            ],
            "properties": {
              "anomaly_count": {
                "type": "integer",
                "description": "Number of pattern anomalies detected"
              },
              "sample_values": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Sample values that don't match expected patterns"
              },
              "anomaly_indices": {
                "type": "array",
                "items": {
                  "type": "integer"
                },
                "description": "Row indices where pattern anomalies were found"
              },
              "expected_patterns": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of expected patterns that were violated"
              }
            },
            "description": "Pattern-based anomaly detection result."
          },
          "StatisticalAnomaly": {
            "type": "object",
            "required": [
              "anomaly_count",
              "anomaly_indices",
              "anomaly_values",
              "mean",
              "std",
              "lower_bound",
              "upper_bound"
            ],
            "properties": {
              "std": {
                "type": "number",
                "description": "Standard deviation of the column"
              },
              "mean": {
                "type": "number",
                "description": "Mean value of the column"
              },
              "lower_bound": {
                "type": "number",
                "description": "Lower bound for normal values"
              },
              "upper_bound": {
                "type": "number",
                "description": "Upper bound for normal values"
              },
              "anomaly_count": {
                "type": "integer",
                "description": "Number of statistical anomalies detected"
              },
              "anomaly_values": {
                "type": "array",
                "items": {
                  "type": "number"
                },
                "description": "Sample of anomalous values found"
              },
              "anomaly_indices": {
                "type": "array",
                "items": {
                  "type": "integer"
                },
                "description": "Row indices where anomalies were found"
              }
            },
            "description": "Statistical anomaly detection result."
          }
        },
        "required": [
          "anomalies",
          "columns_analyzed",
          "methods_used",
          "sensitivity"
        ],
        "properties": {
          "anomalies": {
            "$ref": "#/$defs/AnomalyResults",
            "description": "Comprehensive anomaly detection results"
          },
          "sensitivity": {
            "type": "number",
            "description": "Sensitivity threshold used for detection (0.0-1.0)"
          },
          "methods_used": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Detection methods that were applied"
          },
          "columns_analyzed": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns that were analyzed for anomalies"
          }
        },
        "description": "Response model for anomaly detection operations."
      }
    },
    {
      "name": "filter_rows",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Filter rows using flexible conditions: comprehensive null value and text matching support.\n\nProvides powerful filtering capabilities optimized for AI-driven data analysis. Supports\nmultiple operators, logical combinations, and comprehensive null value handling.\n\nExamples:\n    # Numeric filtering\n    filter_rows(ctx, [{\"column\": \"age\", \"operator\": \">\", \"value\": 25}])\n\n    # Text filtering with null handling\n    filter_rows(ctx, [\n        {\"column\": \"name\", \"operator\": \"contains\", \"value\": \"Smith\"},\n        {\"column\": \"email\", \"operator\": \"is_not_null\"}\n    ], mode=\"and\")\n\n    # Multiple conditions with OR logic\n    filter_rows(ctx, [\n        {\"column\": \"status\", \"operator\": \"==\", \"value\": \"active\"},\n        {\"column\": \"priority\", \"operator\": \"==\", \"value\": \"high\"}\n    ], mode=\"or\")",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "FilterValue": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ]
          },
          "FilterCondition": {
            "type": "object",
            "required": [
              "column",
              "operator"
            ],
            "properties": {
              "value": {
                "$ref": "#/$defs/FilterValue",
                "default": null,
                "description": "Value to compare against"
              },
              "column": {
                "type": "string",
                "description": "Column name to filter on"
              },
              "operator": {
                "$ref": "#/$defs/ComparisonOperator",
                "description": "Comparison operator"
              }
            },
            "description": "A single filter condition."
          },
          "ComparisonOperator": {
            "enum": [
              "=",
              "!=",
              ">",
              "<",
              ">=",
              "<=",
              "contains",
              "not_contains",
              "starts_with",
              "ends_with",
              "in",
              "not_in",
              "is_null",
              "is_not_null"
            ],
            "type": "string",
            "description": "Comparison operators for filtering."
          }
        },
        "required": [
          "conditions"
        ],
        "properties": {
          "mode": {
            "enum": [
              "and",
              "or"
            ],
            "type": "string",
            "default": "and",
            "description": "Logic for combining conditions (and/or)"
          },
          "conditions": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/FilterCondition"
            },
            "description": "List of filter conditions with column, operator, and value"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "rows_before",
          "rows_after",
          "rows_filtered",
          "conditions_applied"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "rows_after": {
            "type": "integer",
            "description": "Row count after filtering"
          },
          "rows_before": {
            "type": "integer",
            "description": "Row count before filtering"
          },
          "rows_filtered": {
            "type": "integer",
            "description": "Number of rows removed by filter"
          },
          "conditions_applied": {
            "type": "integer",
            "description": "Number of filter conditions applied"
          }
        },
        "description": "Response model for row filtering operations."
      }
    },
    {
      "name": "sort_data",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Sort data by one or more columns with comprehensive error handling.\n\nProvides flexible sorting capabilities with support for multiple columns\nand sort directions. Handles mixed data types appropriately and maintains\ndata integrity throughout the sorting process.\n\nExamples:\n    # Simple single column sort\n    sort_data(ctx, [\"age\"])\n\n    # Multi-column sort with different directions\n    sort_data(ctx, [\n        {\"column\": \"department\", \"ascending\": True},\n        {\"column\": \"salary\", \"ascending\": False}\n    ])\n\n    # Using SortColumn objects for type safety\n    sort_data(ctx, [\n        SortColumn(column=\"name\", ascending=True),\n        SortColumn(column=\"age\", ascending=False)\n    ])",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "SortColumn": {
            "type": "object",
            "required": [
              "column"
            ],
            "properties": {
              "column": {
                "type": "string",
                "description": "Column name to sort by"
              },
              "ascending": {
                "type": "boolean",
                "default": true,
                "description": "Sort in ascending order"
              }
            },
            "description": "Column specification for sorting."
          }
        },
        "required": [
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "$ref": "#/$defs/SortColumn"
                }
              ]
            },
            "description": "Column specifications for sorting (strings or SortColumn objects)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "sorted_by",
          "ascending",
          "rows_processed"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "ascending": {
            "type": "array",
            "items": {
              "type": "boolean"
            },
            "description": "Sort direction for each column (True=ascending, False=descending)"
          },
          "sorted_by": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Column names used for sorting"
          },
          "rows_processed": {
            "type": "integer",
            "description": "Number of rows that were sorted"
          }
        },
        "description": "Response model for data sorting operations."
      }
    },
    {
      "name": "remove_duplicates",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Remove duplicate rows from the dataframe with comprehensive validation.\n\nProvides flexible duplicate removal with options for column subset selection\nand different keep strategies. Handles edge cases and provides detailed\nstatistics about the deduplication process.\n\nExamples:\n    # Remove exact duplicate rows\n    remove_duplicates(ctx)\n\n    # Remove duplicates based on specific columns\n    remove_duplicates(ctx, subset=[\"email\", \"name\"])\n\n    # Keep last occurrence instead of first\n    remove_duplicates(ctx, subset=[\"id\"], keep=\"last\")\n\n    # Remove all duplicates (keep none)\n    remove_duplicates(ctx, subset=[\"email\"], keep=\"none\")",
      "inputSchema": {
        "type": "object",
        "properties": {
          "keep": {
            "enum": [
              "first",
              "last",
              "none"
            ],
            "type": "string",
            "default": "first",
            "description": "Which duplicates to keep: first, last, or none"
          },
          "subset": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Columns to consider for duplicates (None = all columns)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "fill_missing_values",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Fill or remove missing values with comprehensive strategy support.\n\nProvides multiple strategies for handling missing data, including statistical\nimputation methods. Handles different data types appropriately and validates\nstrategy compatibility with column types.\n\nExamples:\n    # Drop rows with any missing values\n    fill_missing_values(ctx, strategy=\"drop\")\n\n    # Fill missing values with 0\n    fill_missing_values(ctx, strategy=\"fill\", value=0)\n\n    # Forward fill specific columns\n    fill_missing_values(ctx, strategy=\"forward\", columns=[\"price\", \"quantity\"])\n\n    # Fill with column mean for numeric columns\n    fill_missing_values(ctx, strategy=\"mean\", columns=[\"age\", \"salary\"])",
      "inputSchema": {
        "type": "object",
        "properties": {
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Value to use when strategy is 'fill'"
          },
          "columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Columns to process (None = all columns)"
          },
          "strategy": {
            "enum": [
              "drop",
              "fill",
              "forward",
              "backward",
              "mean",
              "median",
              "mode"
            ],
            "type": "string",
            "default": "drop",
            "description": "Strategy for handling missing values (drop, fill, forward, backward, mean, median, mode)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "select_columns",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Select specific columns from dataframe, removing all others.\n\nValidates column existence and reorders by selection order. Returns selection details with\nbefore/after column counts.",
      "inputSchema": {
        "type": "object",
        "required": [
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of column names to select and keep"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "selected_columns",
          "columns_before",
          "columns_after"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "columns_after": {
            "type": "integer",
            "description": "Number of columns after selection"
          },
          "columns_before": {
            "type": "integer",
            "description": "Number of columns before selection"
          },
          "selected_columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of selected column names"
          }
        },
        "description": "Result of selecting specific columns."
      }
    },
    {
      "name": "rename_columns",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Rename columns in the dataframe.\n\nReturns:\n    Dict with rename details\n\nExamples:\n    # Using dictionary mapping\n    rename_columns(ctx, {\"old_col1\": \"new_col1\", \"old_col2\": \"new_col2\"})\n\n    # Rename multiple columns\n    rename_columns(ctx, {\n        \"FirstName\": \"first_name\",\n        \"LastName\": \"last_name\",\n        \"EmailAddress\": \"email\"\n    })",
      "inputSchema": {
        "type": "object",
        "required": [
          "mapping"
        ],
        "properties": {
          "mapping": {
            "type": "object",
            "description": "Dictionary mapping old column names to new names",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "renamed",
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of final column names"
          },
          "renamed": {
            "type": "object",
            "description": "Mapping of old names to new names",
            "additionalProperties": {
              "type": "string"
            }
          },
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          }
        },
        "description": "Result of renaming columns."
      }
    },
    {
      "name": "add_column",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Add a new column to the dataframe.\n\nReturns:\n    ColumnOperationResult with operation details\n\nExamples:\n    # Add column with constant value\n    add_column(ctx, \"status\", \"active\")\n\n    # Add column with list of values\n    add_column(ctx, \"scores\", [85, 90, 78, 92, 88])\n\n    # Add computed column\n    add_column(ctx, \"total\", formula=\"price * quantity\")\n\n    # Add column with complex formula\n    add_column(ctx, \"full_name\", formula=\"first_name + ' ' + last_name\")",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "SecureExpression": {
            "type": "object",
            "required": [
              "expression"
            ],
            "properties": {
              "expression": {
                "type": "string",
                "maxLength": 1000,
                "minLength": 1,
                "description": "Safe mathematical expression using column names and mathematical functions"
              },
              "description": {
                "anyOf": [
                  {
                    "type": "string",
                    "maxLength": 200
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Optional description of what the expression computes"
              },
              "variable_name": {
                "type": "string",
                "default": "x",
                "pattern": "^[a-zA-Z_][a-zA-Z0-9_]*$",
                "description": "Variable name used in expression for apply operations"
              }
            },
            "description": "Unified secure mathematical expression with validation and context support.\n\nThis is the single expression type used throughout DataBeak for all mathematical\noperations. It provides safety validation, variable substitution, and optional\nmetadata for flexible usage across different scenarios.\n\nExamples of valid expressions:\n    - \"col1 + col2\"                    # Column references\n    - \"abs(col1) * 2.5\"               # Mathematical functions\n    - \"np.sqrt(col1 + col2)\"          # Numpy functions\n    - \"x * 2 + 10\"                    # Variable expressions (for apply operations)\n    - \"max(col1, 100)\"                # Element-wise operations\n\nExamples of blocked expressions:\n    - \"__import__('os').system('rm -rf /')\"  # System access\n    - \"exec('malicious_code')\"               # Code execution\n    - \"open('/etc/passwd').read()\"           # File access\n\nUsage patterns:\n    # Simple formula\n    SecureExpression(expression=\"col1 + col2\")\n\n    # Apply operation with variable\n    SecureExpression(expression=\"x * 2\", variable_name=\"x\")\n\n    # Formula with description\n    SecureExpression(expression=\"col1 + col2\", description=\"Sum of two columns\")"
          }
        },
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name for the new column to add"
          },
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              },
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Single value for all rows or list of values (one per row)"
          },
          "formula": {
            "anyOf": [
              {
                "$ref": "#/$defs/SecureExpression"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Safe mathematical expression to compute column values (e.g., 'col1 + col2')"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "remove_columns",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Remove columns from the dataframe.\n\nReturns:\n    ColumnOperationResult with removal details\n\nExamples:\n    # Remove single column\n    remove_columns(ctx, [\"temp_column\"])\n\n    # Remove multiple columns\n    remove_columns(ctx, [\"col1\", \"col2\", \"col3\"])\n\n    # Clean up after analysis\n    remove_columns(ctx, [\"_temp\", \"_backup\", \"old_value\"])",
      "inputSchema": {
        "type": "object",
        "required": [
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of column names to remove from the dataframe"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "change_column_type",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Change the data type of a column.\n\nReturns:\n    ColumnOperationResult with conversion details\n\nExamples:\n    # Convert string numbers to integers\n    change_column_type(ctx, \"age\", \"int\")\n\n    # Convert to float, replacing errors with NaN\n    change_column_type(ctx, \"price\", \"float\", errors=\"coerce\")\n\n    # Convert to datetime\n    change_column_type(ctx, \"date\", \"datetime\")\n\n    # Convert to boolean\n    change_column_type(ctx, \"is_active\", \"bool\")",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "dtype"
        ],
        "properties": {
          "dtype": {
            "enum": [
              "int",
              "float",
              "str",
              "bool",
              "datetime"
            ],
            "type": "string",
            "description": "Target data type (int, float, str, bool, datetime)"
          },
          "column": {
            "type": "string",
            "description": "Column name to change data type for"
          },
          "errors": {
            "enum": [
              "raise",
              "coerce"
            ],
            "type": "string",
            "default": "coerce",
            "description": "Error handling: 'raise' for errors, 'coerce' to replace invalid values with NaN"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "update_column",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Update values in a column using various operations with discriminated unions.\n\nReturns:\n    ColumnOperationResult with update details\n\nExamples:\n    # Using discriminated union - Replace operation\n    update_column(ctx, \"status\", {\n        \"type\": \"replace\",\n        \"pattern\": \"N/A\",\n        \"replacement\": \"Unknown\"\n    })\n\n    # Using discriminated union - Map operation\n    update_column(ctx, \"code\", {\n        \"type\": \"map\",\n        \"mapping\": {\"A\": \"Alpha\", \"B\": \"Beta\"}\n    })\n\n    # Using discriminated union - Fill operation\n    update_column(ctx, \"score\", {\n        \"type\": \"fillna\",\n        \"value\": 0\n    })\n\n    # Legacy format still supported\n    update_column(ctx, \"score\", {\n        \"operation\": \"fillna\",\n        \"value\": 0\n    })",
      "inputSchema": {
        "type": "object",
        "$defs": {
          "MapOperation": {
            "type": "object",
            "required": [
              "mapping"
            ],
            "properties": {
              "type": {
                "type": "string",
                "const": "map",
                "default": "map"
              },
              "mapping": {
                "type": "object",
                "description": "Value mapping dictionary",
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              }
            },
            "description": "Map operation specification."
          },
          "ApplyOperation": {
            "type": "object",
            "required": [
              "expression"
            ],
            "properties": {
              "type": {
                "type": "string",
                "const": "apply",
                "default": "apply"
              },
              "expression": {
                "type": "string",
                "description": "Python expression to apply"
              }
            },
            "description": "Apply operation specification."
          },
          "FillNaOperation": {
            "type": "object",
            "required": [
              "value"
            ],
            "properties": {
              "type": {
                "type": "string",
                "const": "fillna",
                "default": "fillna"
              },
              "value": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  },
                  {
                    "type": "boolean"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "Value to fill NaN/null with"
              }
            },
            "description": "Fill NA operation specification."
          },
          "ReplaceOperation": {
            "type": "object",
            "required": [
              "pattern",
              "replacement"
            ],
            "properties": {
              "type": {
                "type": "string",
                "const": "replace",
                "default": "replace"
              },
              "pattern": {
                "type": "string",
                "description": "Pattern to search for"
              },
              "replacement": {
                "type": "string",
                "description": "Replacement string"
              }
            },
            "description": "Replace operation specification."
          },
          "UpdateColumnRequest": {
            "type": "object",
            "required": [
              "operation"
            ],
            "properties": {
              "value": {
                "anyOf": [
                  {},
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Value for the operation (depends on operation type)"
              },
              "pattern": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Pattern for replace operation"
              },
              "operation": {
                "enum": [
                  "replace",
                  "map",
                  "apply",
                  "fillna"
                ],
                "type": "string",
                "description": "Type of update operation"
              },
              "replacement": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "default": null,
                "description": "Replacement for replace operation"
              }
            },
            "description": "Request parameters for column update operations."
          }
        },
        "required": [
          "column",
          "operation"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Column name to update values in"
          },
          "operation": {
            "anyOf": [
              {
                "oneOf": [
                  {
                    "$ref": "#/$defs/ReplaceOperation"
                  },
                  {
                    "$ref": "#/$defs/MapOperation"
                  },
                  {
                    "$ref": "#/$defs/ApplyOperation"
                  },
                  {
                    "$ref": "#/$defs/FillNaOperation"
                  }
                ],
                "discriminator": {
                  "mapping": {
                    "map": "#/$defs/MapOperation",
                    "apply": "#/$defs/ApplyOperation",
                    "fillna": "#/$defs/FillNaOperation",
                    "replace": "#/$defs/ReplaceOperation"
                  },
                  "propertyName": "type"
                }
              },
              {
                "$ref": "#/$defs/UpdateColumnRequest"
              },
              {
                "type": "object",
                "additionalProperties": true
              }
            ],
            "description": "Update operation specification (replace, map, apply, fillna)"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "replace_in_column",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Replace patterns in a column with replacement text.\n\nReturns:\n    ColumnOperationResult with replacement details\n\nExamples:\n    # Replace with regex\n    replace_in_column(ctx, \"name\", r\"Mr\\.\", \"Mister\")\n\n    # Remove non-digits from phone numbers\n    replace_in_column(ctx, \"phone\", r\"\\D\", \"\", regex=True)\n\n    # Simple string replacement\n    replace_in_column(ctx, \"status\", \"N/A\", \"Unknown\", regex=False)\n\n    # Replace multiple spaces with single space\n    replace_in_column(ctx, \"description\", r\"\\s+\", \" \")",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "pattern",
          "replacement",
          "regex"
        ],
        "properties": {
          "regex": {
            "type": "boolean",
            "description": "Whether to treat pattern as regex (True) or literal string (False)"
          },
          "column": {
            "type": "string",
            "description": "Column name to apply pattern replacement in"
          },
          "pattern": {
            "type": "string",
            "description": "Pattern to search for (regex or literal string)"
          },
          "replacement": {
            "type": "string",
            "description": "Replacement text to use for matches"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "extract_from_column",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Extract patterns from a column using regex with capturing groups.\n\nReturns:\n    ColumnOperationResult with extraction details\n\nExamples:\n    # Extract email parts\n    extract_from_column(ctx, \"email\", r\"(.+)@(.+)\")\n\n    # Extract code components\n    extract_from_column(ctx, \"product_code\", r\"([A-Z]{2})-(\\d+)\")\n\n    # Extract and expand into multiple columns\n    extract_from_column(ctx, \"full_name\", r\"(\\w+)\\s+(\\w+)\", expand=True)\n\n    # Extract year from date string\n    extract_from_column(ctx, \"date\", r\"\\d{4}\")",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "pattern",
          "expand"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Column name to extract patterns from"
          },
          "expand": {
            "type": "boolean",
            "description": "Whether to expand multiple groups into separate columns"
          },
          "pattern": {
            "type": "string",
            "description": "Regex pattern with capturing groups to extract"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "split_column",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Split column values by delimiter.\n\nReturns:\n    ColumnOperationResult with split details\n\nExamples:\n    # Keep first part of split\n    split_column(ctx, \"full_name\", \" \", part_index=0)\n\n    # Keep last part\n    split_column(ctx, \"email\", \"@\", part_index=1)\n\n    # Expand into multiple columns\n    split_column(ctx, \"address\", \",\", expand_to_columns=True)\n\n    # Expand with custom column names\n    split_column(ctx, \"name\", \" \", expand_to_columns=True,\n                new_columns=[\"first_name\", \"last_name\"])",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "part_index",
          "expand_to_columns",
          "new_columns"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Column name to split values in"
          },
          "delimiter": {
            "type": "string",
            "default": " ",
            "description": "String delimiter to split on"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Which part to keep (0-based index, None for first part)"
          },
          "new_columns": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "null"
              }
            ],
            "description": "Names for new columns when expanding"
          },
          "expand_to_columns": {
            "type": "boolean",
            "description": "Whether to expand splits into multiple columns"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "transform_column_case",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Transform the case of text in a column.\n\nReturns:\n    ColumnOperationResult with transformation details\n\nExamples:\n    # Convert to uppercase\n    transform_column_case(ctx, \"code\", \"upper\")\n\n    # Convert names to title case\n    transform_column_case(ctx, \"name\", \"title\")\n\n    # Convert to lowercase for comparison\n    transform_column_case(ctx, \"email\", \"lower\")\n\n    # Capitalize sentences\n    transform_column_case(ctx, \"description\", \"capitalize\")",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "transform"
        ],
        "properties": {
          "column": {
            "type": "string",
            "description": "Column name to transform text case in"
          },
          "transform": {
            "enum": [
              "upper",
              "lower",
              "title",
              "capitalize"
            ],
            "type": "string",
            "description": "Case transformation: upper, lower, title, or capitalize"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "strip_column",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Strip whitespace or specified characters from column values.\n\nReturns:\n    ColumnOperationResult with strip details\n\nExamples:\n    # Remove leading/trailing whitespace\n    strip_column(ctx, \"name\")\n\n    # Remove specific characters\n    strip_column(ctx, \"phone\", \"()\")\n\n    # Clean currency values\n    strip_column(ctx, \"price\", \"$,\")\n\n    # Remove quotes\n    strip_column(ctx, \"quoted_text\", \"'\\\"\")",
      "inputSchema": {
        "type": "object",
        "required": [
          "column"
        ],
        "properties": {
          "chars": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Characters to strip (None for whitespace, string for specific chars)"
          },
          "column": {
            "type": "string",
            "description": "Column name to strip characters from"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    },
    {
      "name": "fill_column_nulls",
      "_meta": {
        "_fastmcp": {
          "tags": []
        }
      },
      "description": "Fill null/NaN values in a specific column with a specified value.\n\nReturns:\n    ColumnOperationResult with fill details\n\nExamples:\n    # Fill missing names with \"Unknown\"\n    fill_column_nulls(ctx, \"name\", \"Unknown\")\n\n    # Fill missing ages with 0\n    fill_column_nulls(ctx, \"age\", 0)\n\n    # Fill missing status with default\n    fill_column_nulls(ctx, \"status\", \"pending\")\n\n    # Fill missing scores with -1\n    fill_column_nulls(ctx, \"score\", -1)",
      "inputSchema": {
        "type": "object",
        "required": [
          "column",
          "value"
        ],
        "properties": {
          "value": {
            "title": "Value",
            "description": "Value to use for filling null/NaN values"
          },
          "column": {
            "type": "string",
            "description": "Column name to fill null values in"
          }
        }
      },
      "outputSchema": {
        "type": "object",
        "required": [
          "operation",
          "rows_affected",
          "columns_affected"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "default": true,
            "description": "Whether operation completed successfully"
          },
          "operation": {
            "type": "string",
            "description": "Type of operation performed"
          },
          "transform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Transform description"
          },
          "part_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Part index for split operations"
          },
          "nulls_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of null values filled"
          },
          "rows_removed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of rows removed (for remove_duplicates)"
          },
          "rows_affected": {
            "type": "integer",
            "description": "Number of rows affected by operation"
          },
          "values_filled": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Number of values filled (for fill_missing_values)"
          },
          "updated_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values after operation"
          },
          "original_sample": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Sample values before operation"
          },
          "columns_affected": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Names of columns affected"
          }
        },
        "description": "Response model for column operations (add, remove, rename, etc.)."
      }
    }
  ],
  "_sync": {
    "fetched_at": "2026-01-04T15:27:24.286026+00:00",
    "source": "smithery"
  }
}