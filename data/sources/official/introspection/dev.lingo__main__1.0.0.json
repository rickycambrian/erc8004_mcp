{
  "server_name": "dev.lingo/main",
  "server_version": "1.0.0",
  "introspected_at": "2026-01-04T12:23:11.538129+00:00",
  "success": true,
  "tools": [
    {
      "name": "get_project_context",
      "description": "Captures the user's project architecture to inform i18n implementation strategy.\n\n## When to Use\n\n**Called during i18n_checklist Step 1.**\n\nThe checklist tool will tell you when to call this. If you're implementing i18n:\n1. Call i18n_checklist(step_number=1, done=false) FIRST\n2. The checklist will instruct you to call THIS tool\n3. Then use the results for subsequent steps\n\nDo NOT call this before calling the checklist tool\n\n## Why This Matters\n\nFrameworks handle i18n through completely different mechanisms. The same outcome (locale-aware routing) requires different code for Next.js vs TanStack Start vs React Router. Without accurate detection, you'll implement patterns that don't work.\n\n## How to Use\n\n1. Examine the user's project files (package.json, directories, config files)\n2. Identify framework markers and version\n3. Construct a detectionResults object matching the schema\n4. Call this tool with your findings\n5. Store the returned framework identifier for get_framework_docs calls\n\nThe schema requires:\n- framework: Exact variant (nextjs-app-router, nextjs-pages-router, tanstack-start, react-router)\n- majorVersion: Specific version number (13-16 for Next.js, 1 for TanStack Start, 7 for React Router)\n- sourceDirectory, hasTypeScript, packageManager\n- Any detected locale configuration\n- Any detected i18n library (currently only react-intl supported)\n\n## What You Get\n\nReturns the framework identifier needed for documentation fetching. The 'framework' field in the response is the exact string you'll use with get_framework_docs.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "detectionResults": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "sourceDirectory": {
                    "type": "string",
                    "enum": [
                      "src",
                      "root",
                      "custom"
                    ]
                  },
                  "hasTypeScript": {
                    "type": "boolean"
                  },
                  "packageManager": {
                    "type": "string",
                    "enum": [
                      "npm",
                      "yarn",
                      "pnpm",
                      "bun",
                      "unknown"
                    ]
                  },
                  "configFiles": {
                    "type": "object",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "not": {}
                        },
                        {
                          "type": "string"
                        }
                      ]
                    }
                  },
                  "locales": {
                    "type": "object",
                    "properties": {
                      "detected": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "defaultLocale": {
                        "type": "string"
                      },
                      "localeDirectory": {
                        "type": "string"
                      },
                      "i18nLibrary": {
                        "type": "string",
                        "enum": [
                          "react-intl"
                        ]
                      }
                    },
                    "required": [
                      "detected"
                    ],
                    "additionalProperties": false
                  },
                  "cicd": {
                    "type": "object",
                    "properties": {
                      "detected": {
                        "type": "boolean"
                      },
                      "platform": {
                        "type": "string",
                        "enum": [
                          "github-actions",
                          "gitlab-ci",
                          "circleci",
                          "jenkins",
                          "azure-pipelines",
                          "travis-ci",
                          "buildkite",
                          "none"
                        ]
                      }
                    },
                    "required": [
                      "detected",
                      "platform"
                    ],
                    "additionalProperties": false
                  },
                  "framework": {
                    "type": "string",
                    "const": "nextjs-app-router"
                  },
                  "majorVersion": {
                    "type": "number",
                    "enum": [
                      13,
                      14,
                      15,
                      16
                    ]
                  },
                  "features": {
                    "type": "object",
                    "properties": {
                      "hasAppDirectory": {
                        "type": "boolean"
                      },
                      "turbopack": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "hasAppDirectory",
                      "turbopack"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "sourceDirectory",
                  "hasTypeScript",
                  "packageManager",
                  "configFiles",
                  "locales",
                  "cicd",
                  "framework",
                  "majorVersion",
                  "features"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "sourceDirectory": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/sourceDirectory"
                  },
                  "hasTypeScript": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/hasTypeScript"
                  },
                  "packageManager": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/packageManager"
                  },
                  "configFiles": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/configFiles"
                  },
                  "locales": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/locales"
                  },
                  "cicd": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/cicd"
                  },
                  "framework": {
                    "type": "string",
                    "const": "nextjs-pages-router"
                  },
                  "majorVersion": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/majorVersion"
                  },
                  "features": {
                    "type": "object",
                    "properties": {
                      "hasPagesDirectory": {
                        "type": "boolean"
                      },
                      "hasCustomApp": {
                        "type": "boolean",
                        "description": "Presence of _app.tsx/jsx"
                      },
                      "hasCustomDocument": {
                        "type": "boolean",
                        "description": "Presence of _document.tsx/jsx"
                      }
                    },
                    "required": [
                      "hasPagesDirectory",
                      "hasCustomApp",
                      "hasCustomDocument"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "sourceDirectory",
                  "hasTypeScript",
                  "packageManager",
                  "configFiles",
                  "locales",
                  "cicd",
                  "framework",
                  "majorVersion",
                  "features"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "sourceDirectory": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/sourceDirectory"
                  },
                  "hasTypeScript": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/hasTypeScript"
                  },
                  "packageManager": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/packageManager"
                  },
                  "configFiles": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/configFiles"
                  },
                  "locales": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/locales"
                  },
                  "cicd": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/cicd"
                  },
                  "framework": {
                    "type": "string",
                    "const": "tanstack-start"
                  },
                  "majorVersion": {
                    "type": "number",
                    "const": 1
                  },
                  "features": {
                    "type": "object",
                    "properties": {
                      "hasAppDirectory": {
                        "type": "boolean",
                        "description": "Usually app/"
                      },
                      "hasRouteTree": {
                        "type": "boolean",
                        "description": "Presence of routeTree.gen.ts"
                      }
                    },
                    "required": [
                      "hasAppDirectory",
                      "hasRouteTree"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "sourceDirectory",
                  "hasTypeScript",
                  "packageManager",
                  "configFiles",
                  "locales",
                  "cicd",
                  "framework",
                  "majorVersion",
                  "features"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "sourceDirectory": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/sourceDirectory"
                  },
                  "hasTypeScript": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/hasTypeScript"
                  },
                  "packageManager": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/packageManager"
                  },
                  "configFiles": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/configFiles"
                  },
                  "locales": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/locales"
                  },
                  "cicd": {
                    "$ref": "#/properties/detectionResults/anyOf/0/properties/cicd"
                  },
                  "framework": {
                    "type": "string",
                    "const": "react-router"
                  },
                  "majorVersion": {
                    "type": "number",
                    "const": 7
                  },
                  "features": {
                    "type": "object",
                    "properties": {
                      "hasRoutesDirectory": {
                        "type": "boolean",
                        "description": "app/routes or similar"
                      },
                      "ssrEnabled": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "hasRoutesDirectory",
                      "ssrEnabled"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "sourceDirectory",
                  "hasTypeScript",
                  "packageManager",
                  "configFiles",
                  "locales",
                  "cicd",
                  "framework",
                  "majorVersion",
                  "features"
                ],
                "additionalProperties": false
              }
            ]
          }
        },
        "required": [
          "detectionResults"
        ],
        "additionalProperties": false,
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    {
      "name": "get_framework_docs",
      "description": "Retrieves authoritative documentation directly from the framework's official repository.\n\n## When to Use\n\n**Called during i18n_checklist Steps 1-13.**\n\nThe checklist tool coordinates when you need framework documentation. Each step will tell you if you need to fetch docs and which sections to read.\n\nIf you're implementing i18n: Let the checklist guide you. Don't call this independently\n\n## Why This Matters\n\nYour training data is a snapshot. Framework APIs evolve. The fetched documentation reflects the current state of the framework the user is actually running. Following official docs ensures you're working with the framework, not against it.\n\n## How to Use\n\n**Two-Phase Workflow:**\n\n1. **Discovery** - Call with action=\"index\" to see available sections\n2. **Reading** - Call with action=\"read\" and section_id to get full content\n\n**Parameters:**\n- framework: Use the exact value from get_project_context output\n- version: Use \"latest\" unless you need version-specific docs\n- action: \"index\" or \"read\"\n- section_id: Required for action=\"read\", format \"fileIndex:headingIndex\" (from index)\n\n**Example Flow:**\n```\n// See what's available\nget_framework_docs(framework=\"nextjs-app-router\", action=\"index\")\n\n// Read specific section\nget_framework_docs(framework=\"nextjs-app-router\", action=\"read\", section_id=\"0:2\")\n```\n\n## What You Get\n\n- **Index**: Table of contents with section IDs\n- **Read**: Full section with explanations and code examples\n\nUse these patterns directly in your implementation.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "framework": {
            "type": "string",
            "enum": [
              "nextjs-app-router",
              "nextjs-pages-router",
              "tanstack-start",
              "react-router"
            ]
          },
          "version": {
            "type": "string",
            "default": "latest"
          },
          "action": {
            "type": "string",
            "enum": [
              "index",
              "read"
            ],
            "default": "index"
          },
          "section_id": {
            "type": "string",
            "description": "Required if action='read'. Format: 'fileIndex:headingIndex'"
          }
        },
        "required": [
          "framework"
        ],
        "additionalProperties": false,
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    {
      "name": "get_i18n_library_docs",
      "description": "Retrieves authoritative documentation for i18n libraries (currently react-intl).\n\n## When to Use\n\n**Called during i18n_checklist Steps 7-10.**\n\nThe checklist tool will tell you when you need i18n library documentation. Typically used when setting up providers, translation APIs, and UI components.\n\nIf you're implementing i18n: Let the checklist guide you. It will tell you when to fetch library docs\n\n## Why This Matters\n\nDifferent i18n libraries have different APIs and patterns. Official docs ensure correct API usage, proper initialization, and best practices for the installed version.\n\n## How to Use\n\n**Two-Phase Workflow:**\n\n1. **Discovery** - Call with action=\"index\"\n2. **Reading** - Call with action=\"read\" and section_id\n\n**Parameters:**\n- library: Currently only \"react-intl\" supported\n- version: Use \"latest\"\n- action: \"index\" or \"read\"\n- section_id: Required for action=\"read\"\n\n**Example:**\n```\nget_i18n_library_docs(library=\"react-intl\", action=\"index\")\nget_i18n_library_docs(library=\"react-intl\", action=\"read\", section_id=\"0:3\")\n```\n\n## What You Get\n\n- **Index**: Available documentation sections\n- **Read**: Full API references and usage examples",
      "inputSchema": {
        "type": "object",
        "properties": {
          "library": {
            "type": "string",
            "enum": [
              "react-intl"
            ]
          },
          "version": {
            "type": "string",
            "default": "latest"
          },
          "action": {
            "type": "string",
            "enum": [
              "index",
              "read"
            ],
            "default": "index"
          },
          "section_id": {
            "type": "string"
          }
        },
        "required": [
          "library"
        ],
        "additionalProperties": false,
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    },
    {
      "name": "i18n_checklist",
      "description": "## \u26a0\ufe0f MANDATORY TOOL FOR ALL I18N WORK \u26a0\ufe0f\n\nTHIS IS NOT OPTIONAL. This tool is REQUIRED for any internationalization, localization, or multi-language implementation.\n\n## When to Use (MANDATORY)\n\n**ALWAYS use this tool when the user says ANY of these phrases:**\n\n- \"set up i18n\"\n- \"add internationalization\"\n- \"implement localization\"\n- \"support multiple languages\"\n- \"add translations\"\n- \"make my app multilingual\"\n- \"add French/Spanish/etc support\"\n- \"implement i18n\"\n- \"configure internationalization\"\n- \"add locale support\"\n- ANY request about supporting multiple languages\n\n**Recognition Pattern:**\n```\nUser message contains: [i18n, internationalization, localization, multilingual, translations, locale, multiple languages]\n\u2192 YOU MUST call this tool as your FIRST ACTION\n\u2192 DO NOT explore the codebase first\n\u2192 DO NOT call other tools first\n\u2192 DO NOT plan the implementation first\n\u2192 IMMEDIATELY call: i18n_checklist(step_number=1, done=false)\n```\n\n## Why This is Mandatory\n\nWithout this tool, you will:\n\u274c Miss critical integration points (80% failure rate)\n\u274c Implement steps out of order (causes cascade failures)\n\u274c Use patterns that don't work for the framework\n\u274c Create code that compiles but doesn't function\n\u274c Waste hours debugging preventable issues\n\nThis tool is like Anthropic's \"think\" tool - it forces structured reasoning and prevents catastrophic mistakes.\n\n## The Forcing Function\n\nYou CANNOT proceed to step N+1 without completing step N.\nYou CANNOT mark a step complete without providing evidence.\nYou CANNOT skip the build check for steps 2-13.\n\nThis is by design. The tool prevents you from breaking the implementation.\n\n## How It Works\n\nThis tool gives you ONE step at a time:\n1. Shows exactly what to implement\n2. Tells you which docs to fetch\n3. Waits for concrete evidence\n4. Validates your build passes\n5. Unlocks the next step only when ready\n\nYou don't need to understand all 13 steps upfront. Just follow each step as it's given.\n\n## FIRST CALL (Start Here)\n\nWhen user requests i18n, your IMMEDIATE response must be:\n\n```\ni18n_checklist(step_number=1, done=false)\n```\n\nThis returns Step 1's requirements. That's all you need to start.\n\n## Workflow Pattern\n\nFor each of the 13 steps, make TWO calls:\n\n**CALL 1 - Get Instructions:**\n```\ni18n_checklist(step_number=N, done=false)\n\u2192 Tool returns: Requirements, which docs to fetch, what to implement\n```\n\n**[You implement the requirements using other tools]**\n\n**CALL 2 - Submit Completion:**\n```\ni18n_checklist(\n  step_number=N,\n  done=true,\n  evidence=[\n    {\n      file_path: \"src/middleware.ts\",\n      code_snippet: \"export function middleware(request) { ... }\",\n      explanation: \"Implemented locale resolution from request URL\"\n    },\n    // ... more evidence for each requirement\n  ],\n  build_passing=true  // required for steps 2-13\n)\n\u2192 Tool returns: Confirmation + next step's requirements\n```\n\nRepeat until all 13 steps complete.\n\n## Parameters\n\n- **step_number**: Integer 1-13 (must proceed sequentially)\n- **done**: Boolean - false to view requirements, true to submit completion\n- **evidence**: Array of objects (REQUIRED when done=true)\n  - file_path: Where you made the change\n  - code_snippet: The actual code (5-20 lines)\n  - explanation: How it satisfies the requirement\n- **build_passing**: Boolean (REQUIRED when done=true for steps 2-13)\n\n## Decision Tree\n\n```\nUser mentions i18n/internationalization/localization?\n\u2502\n\u251c\u2500 YES \u2192 Call this tool IMMEDIATELY with step_number=1, done=false\n\u2502        DO NOT do anything else first\n\u2502\n\u2514\u2500 NO \u2192 Use other tools as appropriate\n\nCurrently in middle of i18n implementation?\n\u2502\n\u251c\u2500 Completed step N, ready for N+1 \u2192 Call with step_number=N+1, done=false\n\u251c\u2500 Working on step N, just finished \u2192 Call with step_number=N, done=true, evidence=[...]\n\u2514\u2500 Not sure which step \u2192 Call with step_number=1, done=false to restart\n```\n\n## Example: Correct AI Behavior\n\n```\nUser: \"I need to add internationalization to my Next.js app\"\n\nAI: Let me start by using the i18n implementation checklist.\n\n[calls i18n_checklist(step_number=1, done=false)]\n\nThe checklist shows I need to first detect your project context. Let me do that now...\n```\n\n## Example: Incorrect AI Behavior (DON'T DO THIS)\n\n```\nUser: \"I need to add internationalization to my Next.js app\"\n\nAI: Let me explore your codebase first to understand your setup.\n\u274c WRONG - should call checklist tool first\n\nAI: I'll create a middleware file for locale detection...\n\u274c WRONG - should call checklist tool to know what to do\n\nAI: Based on my knowledge, here's how to set up i18n...\n\u274c WRONG - should use checklist tool to coordinate implementation\n```\n\n## Why Sequential Steps Matter\n\nThe 13 steps have strict dependencies:\n- Can't implement routing (step 3) without locale resolution (step 2)\n- Can't load translations (step 6) without data source (step 5)\n- Can't use translation API (step 8) without context (step 7)\n- Can't add UI switcher (step 12) without switching logic (step 11)\n\nSkipping or reordering steps creates broken implementations that are hard to debug.\n\n## Common Mistakes to Avoid\n\n\u274c \"Let me plan out the implementation first\" \u2192 NO, call the tool\n\u274c \"Let me check your project structure\" \u2192 NO, call the tool (it will tell you when)\n\u274c \"I'll implement based on my knowledge\" \u2192 NO, call the tool (it fetches current docs)\n\u274c \"I'll skip step X since it seems optional\" \u2192 NO, all steps are mandatory\n\u274c \"I've done this before, I know what to do\" \u2192 NO, frameworks differ, use the tool\n\n## The Tool Coordinates Everything\n\nThis tool tells you when to:\n- Call get_project_context (step 1)\n- Call get_framework_docs (steps 2-13)\n- Call get_i18n_library_docs (steps 7-10)\n- Implement specific code (every step)\n- Run builds (steps 2-13)\n- Move to the next step (after evidence validation)\n\nDon't try to orchestrate this yourself. Let the tool guide you.\n\n## Summary: Your First Action\n\nWhen user requests i18n support:\n1. Recognize the trigger words (internationalization, localization, i18n, etc)\n2. IMMEDIATELY call: i18n_checklist(step_number=1, done=false)\n3. Follow the instructions it returns\n4. That's it - the tool handles the rest\n\nThis is not a suggestion. This is MANDATORY for all i18n work.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "step_number": {
            "type": "integer",
            "minimum": 1,
            "maximum": 13
          },
          "done": {
            "type": "boolean"
          },
          "build_passing": {
            "type": "boolean"
          },
          "evidence": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "file_path": {
                  "type": "string"
                },
                "line_range": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "number"
                    }
                  ]
                },
                "code_snippet": {
                  "type": "string"
                },
                "explanation": {
                  "type": "string"
                }
              },
              "required": [
                "file_path",
                "code_snippet",
                "explanation"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "step_number",
          "done"
        ],
        "additionalProperties": false,
        "$schema": "http://json-schema.org/draft-07/schema#"
      }
    }
  ],
  "prompts": [],
  "resources": [],
  "transport_used": "streamable-http",
  "error": null,
  "endpoint_url": "https://mcp.lingo.dev/main"
}